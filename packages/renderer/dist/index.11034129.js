var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,i=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(a)for(var n of a(t))r.call(t,n)&&s(e,n,t[n]);return e},l=(e,a)=>t(e,n(a));import{r as c,d,n as u,M as p,u as m,i as h,o as g,a as y,b as f,c as b,e as v,w as k,f as x,g as w,h as S,F as C,j as L,k as I,l as A,p as _,m as T,s as B,q as M,t as H,v as O,x as N,y as D,z as V,A as E,B as $,C as P,D as j,E as q,G as U,H as F,I as K,J as z,K as R,L as W,N as G,O as J,P as X,V as Y,Q,S as Z,R as ee,T as te,U as ne,W as ae,X as oe,Y as re,Z as se,_ as ie,$ as le,a0 as ce,a1 as de,a2 as ue,a3 as pe,a4 as me,a5 as he,a6 as ge,a7 as ye,a8 as fe,a9 as be,aa as ve,ab as ke,ac as xe,ad as we,ae as Se,af as Ce,ag as Le,ah as Ie,ai as Ae,aj as _e,ak as Te,al as Be,am as Me,an as He,ao as Oe,ap as Ne,aq as De,ar as Ve,as as Ee,at as $e,au as Pe,av as je,aw as qe,ax as Ue,ay as Fe,az as Ke,aA as ze,aB as Re,aC as We,aD as Ge,aE as Je,aF as Xe,aG as Ye,aH as Qe,aI as Ze,aJ as et,aK as tt,aL as nt,aM as at,aN as ot,aO as rt,aP as st,aQ as it,aR as lt,aS as ct,aT as dt,aU as ut,aV as pt,aW as mt,aX as ht,aY as gt,aZ as yt,a_ as ft,a$ as bt,b0 as vt,b1 as kt,b2 as xt,b3 as wt,b4 as St,b5 as Ct,b6 as Lt,b7 as It,b8 as At,b9 as _t,ba as Tt,bb as Bt,bc as Mt,bd as Ht,be as Ot,bf as Nt,bg as Dt,bh as Vt,bi as Et,bj as $t,bk as Pt,bl as jt,bm as qt,bn as Ut,bo as Ft,bp as Kt,bq as zt,br as Rt,bs as Wt,bt as Gt,bu as Jt}from"./vendor.0f31108d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Xt=c("");function Yt(){return"system"===Xt.value?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===Xt.value}function Qt(e,t){const n=document.documentElement;Xt.value=t?"system":e,"dark"!==e||n.classList.contains("dark")?"light"===e?n.classList.remove("dark"):"system"===e&&(localStorage.removeItem("theme"),Qt(Yt()?"dark":"light",!0)):n.classList.add("dark"),localStorage.theme=Xt.value}function Zt(){const e=localStorage.getItem("theme")||"system";Xt.value=e,"dark"===localStorage.theme||"system"===e&&Yt()?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function en(){return{isDark:Yt,setTheme:Qt,loadTheme:Zt,currentTheme:Xt}}function tn(e,t){const{ipcRenderer:n}=window.electron;return t.value&&(t.value=JSON.parse(JSON.stringify(t.value))),n.callMain(`storage:${e}`,t)}function nn(e="data"){return{get:(t,n,a)=>tn("get",{name:a||e,key:t,def:n}),set:(t,n,a)=>tn("set",{name:a||e,key:t,value:n}),has:(t,n)=>tn("has",{name:n||e,key:t}),replace:(t,n)=>tn("replace",{name:n||e,data:t}),delete:(t,n)=>tn("delete",{name:n||e,key:t}),clear:t=>tn("clear",t||e),store:t=>tn("store",t||e)}}const an=nn(),on=d("note",{state:()=>({data:{}}),getters:{notes:e=>Object.values(e.data).filter((({id:e})=>e)),getById:e=>t=>e.data[t]},actions:{retrieve(){return new Promise((e=>{an.get("notes",{}).then((t=>{this.data=t,e(t)}))}))},add(e={}){return new Promise((t=>{const n=e.id||u();this.data[n]=i({id:n,title:"",content:{type:"doc",content:[]},labels:[],createdAt:Date.now(),updatedAt:Date.now(),isBookmarked:!1,isArchived:!1},e),an.set("notes",this.data).then((()=>t(this.data[n])))}))},update(e,t={}){return new Promise((n=>{this.data[e]=i(i({},this.data[e]),t),an.set(`notes.${e}`,this.data[e]).then((()=>n(this.data[e])))}))},async delete(e){try{localStorage.getItem("lastNoteEdit")===e&&localStorage.removeItem("lastNoteEdit");const{path:t,ipcRenderer:n}=window.electron,a=await an.get("dataDir","","settings");return delete this.data[e],await n.callMain("fs:remove",t.join(a,"notes-assets",e)),await an.delete(`notes.${e}`),e}catch(e){console.error(e)}}},addLabel(e,t){return new Promise((n=>{if(this.data[e]){if(-1===this.data[e].labels.indexOf(t))return this.data[e].labels.push(t),void an.set(`notes.${e}`,this.data[e]).then((()=>n(t)));n()}}))}}),rn=nn(),sn=d("label",{state:()=>({data:[]}),getters:{getByIds:e=>t=>t.filter((t=>e.data.includes(t)))},actions:{retrieve(){return new Promise((e=>{rn.get("labels",[]).then((t=>{this.data=t,e(t)}))}))},add(e){return new Promise((t=>{const n=e.slice(0,50);this.data.push(n),rn.set("labels",this.data).then((()=>t(n)))}))},async delete(e){try{const t=this.data.indexOf(e);if(-1===t)return null;const n=on();for(const t of n.notes){const a=t.labels.indexOf(e);if(-1!==a){const e=[...t.labels];e.splice(a,1),await n.update(t.id,{labels:e})}}return this.data.splice(t,1),await rn.set("labels",this.data),e}catch(e){console.error(e)}}}}),ln=d("main",{state:()=>({inFocusMode:!1,activeNoteId:""}),actions:{retrieve:()=>new Promise((e=>{const t=on(),n=sn();Promise.allSettled([t.retrieve(),n.retrieve()]).then((t=>{const n=[];t.forEach((({value:e,status:t})=>{"fulfilled"===t&&n.push(e)})),e(n)}))}))}});var cn={welcome:{id:"welcome",title:"Welcome to Beaver Notes",content:'{"type":"doc","content":[{"type":"paragraph","content":[{"type":"noteLabel","attrs":{"id":"Introduction","label":null}},{"type":"text","text":" "},{"type":"noteLabel","attrs":{"id":"Tutorial","label":null}},{"type":"text","text":" "}]},{"type":"paragraph","content":[{"type":"text","text":"Thanks for downloading our app. Get ready to master note-taking like a pro while keeping your data private. With Beaver Notes, you can effortlessly capture and organize your thoughts, ideas, and important details, all securely stored on your device. Let\'s dive in and make note-taking a breeze!"}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Master Organization"}]},{"type":"paragraph","content":[{"type":"text","text":"To make it easier to look up or find your notes, you can labels them with as many labels as you want. This allows you to categorize your notes based on topics, projects, or any other criteria you choose. Additionally, you can link a note to another note by typing double at signs (@@) and selecting a note or using the link menu in the toolbar. This powerful linking feature helps you establish connections and create a web of related information. With Beaver Notes\' markdown formatting, your notes will be even more structured and organized for further information check "},{"type":"linkNote","attrs":{"id":"markdown-formatting","label":"Markdown Formatting"},"marks":[{"type":"link","attrs":{"href":"note://markdown-formatting","target":"_blank"}}]},{"type":"text","text":"."}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Markdown formatting"}]},{"type":"paragraph","content":[{"type":"text","text":"Beaver Notes supports some of the markdown syntaxes, so you can faster to formatting your notes. To learn more about this, you can open the "},{"type":"linkNote","attrs":{"id":"markdown-formatting","label":"Markdown Formatting"},"marks":[{"type":"link","attrs":{"href":"note://markdown-formatting","target":"_blank"}}]},{"type":"text","text":" note."}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Backup, Protect, and Import Your Data"}]},{"type":"paragraph","content":[{"type":"text","text":"Keep your notes safe and secure with Beaver Notes. Easily create backups by going to the settings page ("},{"type":"text","marks":[{"type":"code"}],"text":"Ctrl+, / Cmd+,"},{"type":"text","text":" ) and clicking the export button. To add an extra layer of protection, enable the *Encrypt with password* checkbox. When importing data, simply click the import button. If your data is password-protected, enter the password to access it."}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Quick Access to Your Notes and Commands"}]},{"type":"paragraph","content":[{"type":"text","text":"The command prompt feature in our app makes it easy to locate your notes or execute commands. To open the command prompt, simply press"},{"type":"text","marks":[{"type":"code"}],"text":"Ctrl+P / Cmd+P"},{"type":"text","text":" or press "},{"type":"text","marks":[{"type":"code"}],"text":"Ctrl+Shift+P / Cmd+Shift+P"},{"type":"text","text":" to quickly search for specific commands. With this convenient functionality, navigating through your notes app becomes effortless. Stay organized and in control with our command prompt. "}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Wrap up: Feedback and Updates"}]},{"type":"paragraph","content":[{"type":"text","text":"We appreciate your feedback! To report a bug or provide advice, open a GitHub issue on our  "},{"type":"text","marks":[{"type":"link","attrs":{"href":"https://github.com/Daniele-rolli/Beaver-Notes","target":"_blank"}}],"text":"Github repo"},{"type":"text","text":". Stay in the loop with our newsletter for updates on new features and improvements. Sign up now to receive the latest news. Thank you for your support!"}]}]}'},markdown:{id:"markdown-formatting",title:"Markdown Formatting",content:'{"type":"doc","content":[{"type":"paragraph","content":[{"type":"noteLabel","attrs":{"id":"Tutorial","label":null}},{"type":"text","text":" "}]},{"type":"paragraph","content":[{"type":"text","text":"Beaver Notes also has a markdown formatting feature, which means you can write markdown syntax in the editor. And here are some code examples of how to write markdown syntax."}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Code"}]},{"type":"paragraph","content":[{"type":"text","text":"To add a code block you can use triple backticks (```) and the code block will be on auto mode. To use a specific language just add the language name after the backticks like ```javascript or use the select that provided on the code block. Beaver Notes supported around 170 languages and to exit from a code block press "},{"type":"text","marks":[{"type":"code"}],"text":"Ctrl + Enter"},{"type":"text","text":"."}]},{"type":"codeBlock","attrs":{"language":null},"content":[{"type":"text","text":"#include <iostream>\\n\\nint main() {\\n  std::cout << \\"Hello World!\\";\\n  return 0;\\n}"}]},{"type":"codeBlock","attrs":{"language":"javascript"},"content":[{"type":"text","text":"function helloWorld() {\\n  console.log(\'Hello World!\');\\n}"}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Text Formatting"}]},{"type":"paragraph","content":[{"type":"text","text":"Here are some inline text formatting that you can apply: "},{"type":"text","marks":[{"type":"bold"}],"text":"bold"},{"type":"text","text":", "},{"type":"text","marks":[{"type":"italic"}],"text":"italic"},{"type":"text","text":", "},{"type":"text","marks":[{"type":"strike"}],"text":"strikethrough"},{"type":"text","text":", "},{"type":"text","marks":[{"type":"code"}],"text":"inline code"},{"type":"text","text":" , "},{"type":"text","marks":[{"type":"highlight"}],"text":"highlight"},{"type":"text","text":"."}]},{"type":"codeBlock","attrs":{"language":"markdown"},"content":[{"type":"text","text":"**Bold**\\n*Italic*\\n~~Strikethrough~~\\n`Inline code`\\n==highlight=="}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Lists"}]},{"type":"paragraph","content":[{"type":"text","text":"There are two types of lists that you can use in Beaver Notes. They are bullet lists and ordered lists, bullet list like its name is a list that using a bullet "}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Like this"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Or this"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Nested list"}]}]}]}]}]},{"type":"paragraph","content":[{"type":"text","text":"and the ordered list is a list that counts upwards starting."}]},{"type":"orderedList","attrs":{"start":1},"content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Like this"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Or this"}]},{"type":"orderedList","attrs":{"start":1},"content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Nested list"}]}]}]}]}]},{"type":"paragraph","content":[{"type":"text","text":"When you are on a new line of a list and press the tab to nested it, or press "},{"type":"text","marks":[{"type":"code"}],"text":"shift"},{"type":"text","text":" + "},{"type":"text","marks":[{"type":"code"}],"text":"tab"},{"type":"text","text":" to sink the lists."}]},{"type":"codeBlock","attrs":{"language":"markdown"},"content":[{"type":"text","text":"- Bullet list\\n1. Ordered list"}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Headings"}]},{"type":"paragraph","content":[{"type":"text","text":"There are six levels of heading that you can use. To use heading level 1, you only need to write `# Headings`, for heading level 2 `## Heading`, heading level 3 `### Heading`, and so on. And it will look like this."}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Heading 1"}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Heading 2"}]},{"type":"heading","attrs":{"level":3},"content":[{"type":"text","text":"Heading 3"}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Image"}]},{"type":"paragraph","content":[{"type":"text","text":"To add image to Beaver Notes editor, you can either paste the image from you clipboard, drag and drop it, use the image menu at the toolbar, or link it using markdown. To edit the image source, you can click the image and a popover will show up."}]},{"type":"image","attrs":{"src":"https://picsum.photos/800/400","alt":"Random image","title":null}},{"type":"codeBlock","attrs":{"language":"markdown"},"content":[{"type":"text","text":"![Random image](https://picsum.photos/800/400)"}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Math"}]},{"type":"paragraph","content":[{"type":"text","text":"You also can write KaTeX equations inside the editor. If you want to write inline match, you only need to wrap your KaTeX expressions in a dollar sign ($). And it will look like this  "},{"type":"math_inline","content":[{"type":"text","text":"E=mc^2"}]},{"type":"text","text":". "},{"type":"hardBreak"},{"type":"text","text":"And if you want to write a multi-line of KaTeX expressions, enter a new line and type double dollar signs($$) And then press space."}]},{"type":"mathBlock","attrs":{"content":"f(\\\\relax{x}) = \\\\int_{-\\\\infty}^\\\\infty\\n    f(\\\\hat\\\\xi\\\\,)e^{2 \\\\pi i \\\\xi x}\\n    \\\\,d\\\\xi\\n","macros":"{\\n  \\\\f: \\"#1f(#2)\\"\\n}","init":"true"}},{"type":"codeBlock","attrs":{"language":"markdown"},"content":[{"type":"text","text":"$E=mc^2$"}]},{"type":"heading","attrs":{"level":1},"content":[{"type":"text","text":"Labels"}]},{"type":"paragraph","content":[{"type":"text","text":"To organize your notes, you can pass a label for each of your notes. To add a label to your note, type a hashtag and write the name of your label like this "},{"type":"noteLabel","attrs":{"id":"Tutorial","label":null}},{"type":"text","text":" . When you click a label, the app will filter notes by that label."}]},{"type":"codeBlock","attrs":{"language":"markdown"},"content":[{"type":"text","text":"#Tutorial #AnotherLabel"}]},{"type":"paragraph"}]}'}};p.prototype.stopCallback=function(){return!1};const dn={setup(){const e=en(),t=m(),n=on(),a=navigator.platform.toUpperCase().includes("MAC")?"Cmd":"Ctrl",o={"mod+n":i,"mod+,":r,"mod+shift+w":s,"mod+shift+n":()=>t.push("/"),"mod+shift+a":()=>t.push("/?archived=true"),"mod+shift+l":()=>e.setTheme(e.isDark()?"light":"dark")};function r(){t.push("/settings")}function s(){const e=localStorage.getItem("lastNoteEdit");e&&t.push(`/note/${e}`)}function i(){n.add().then((({id:e})=>{t.push(`/note/${e}`)}))}return h.on("new-note",i),h.on("open-settings",r),p.bind(Object.keys(o),((e,t)=>{o[t]()})),g((()=>{h.off("new-note",i),h.off("open-settings",r)})),{navs:[{name:"Notes",path:"/",icon:"riBookletLine",shortcut:"mod+shift+n"},{name:"Archive",path:"/?archived=true",icon:"riArchiveDrawerLine",shortcut:"mod+shift+a"}],theme:e,addNote:i,noteStore:n,openLastEdited:s,keyBinding:a}}},un={class:"\n      w-16\n      text-gray-600\n      dark:text-gray-200\n      bg-[#F8F8F7]\n      dark:bg-[#353333]\n      fixed\n      text-center\n      flex flex-col\n      items-center\n      h-full\n      left-0\n      top-0\n      z-40\n      py-4\n    "},pn=x("div",{class:"flex-grow"},null,-1);function mn(e,t=200){let n;return(...a)=>(clearTimeout(n),new Promise((o=>{n=setTimeout((()=>{n=null,e(...a),o()}),t)})))}function hn(e,t){return e.slice(0,t)+(e.length>t?"...":"")}function gn(e){let t="";for(const n of e){const e=(n.text||"").trim();""!==e&&(t+=`${e} `),n.content&&(t+=gn(n.content))}return t}dn.render=function(e,t,n,a,o,r){const s=y("v-remixicon"),i=y("router-link"),l=f("tooltip");return b(),v("aside",un,[k(x("button",{class:"transition p-2 mb-4 text-primary bg-input rounded-lg",onClick:t[0]||(t[0]=(...e)=>a.addNote&&a.addNote(...e))},[w(s,{name:"riAddFill"})],512),[[l,"Add note ("+a.keyBinding+"+N)","right"]]),k(x("button",{class:S(["transition dark:hover:text-white hover:text-gray-800 p-2 mb-4",{"text-primary":"Note"===e.$route.name}]),onClick:t[1]||(t[1]=(...e)=>a.openLastEdited&&a.openLastEdited(...e))},[w(s,{name:"riEditLine"})],2),[[l,"Edited note ("+a.keyBinding+"+Shift+W)","right"]]),(b(!0),v(C,null,L(a.navs,(t=>k((b(),I(i,{key:t.name,to:t.path,class:S([{"text-primary dark:text-secondary":e.$route.fullPath===t.path},"transition dark:hover:text-white hover:text-gray-800 p-2 mb-4"])},{default:A((()=>[w(s,{name:t.icon},null,8,["name"])])),_:2},1032,["to","class"])),[[l,`${t.name} (${t.shortcut.replace("mod",a.keyBinding)})`,"right"]]))),128)),pn,k(x("button",{class:S([[a.theme.isDark()?"text-primary dark:text-secondary":"dark:hover:text-white hover:text-gray-800"],"transition p-2 mb-4"]),onClick:t[2]||(t[2]=e=>a.theme.setTheme(a.theme.isDark()?"light":"dark"))},[w(s,{name:"riMoonClearLine"})],2),[[l,"Toggle dark theme ("+a.keyBinding+"+Shift+L)","right"]]),k(w(i,{to:"/settings",class:"transition dark:hover:text-white hover:text-gray-800 p-2","active-class":"text-primary dark:text-secondary"},{default:A((()=>[w(s,{name:"riSettingsLine"})])),_:1},512),[[l,"Settings ("+a.keyBinding+"+,)","right"]])])};const yn=en(),fn=[{id:"new-note",title:"Create new note",shortcut:["Ctrl","N"],handler:()=>h.emit("new-note")},{id:"settings",title:"Settings",shortcut:["Ctrl",","],handler:()=>h.emit("open-settings")},{id:"dark-theme",title:"Apply dark theme",handler:()=>yn.setTheme("dark")},{id:"light-theme",title:"Apply light theme",handler:()=>yn.setTheme("light")}],bn={setup(){const e=m(),t=on(),n=B({show:!1,query:"",selectedIndex:0}),a=M((()=>{const e=n.query.toLocaleLowerCase(),a=e.startsWith(">");return(a?fn:t.notes).filter((({title:t})=>t.toLocaleLowerCase().includes(a?e.substr(1):e)))}));function o(){n.show=!1,n.query="",n.selectedIndex=0}return p.bind(["mod+p","mod+shift+p"],((e,t)=>{if(n.show)return o();"mod+shift+p"===t&&(n.query=">"),document.querySelector(".command-input")?.focus(),n.show=!0})),H(a,(()=>{n.selectedIndex=0})),H((()=>n.selectedIndex),mn((()=>{if(a.value.length<=6)return;const e=document.querySelector(".active-command-item");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)),{items:a,state:n,clear:o,selectItem:function(t,r){let s=a.value[n.selectedIndex];r&&(s=t),s.handler?s.handler():s.id&&e.push(`/note/${s.id}`),o()},keydownHandler:function(e){"ArrowUp"===e.key?(e.preventDefault(),n.selectedIndex=(n.selectedIndex+a.value.length-1)%a.value.length):"ArrowDown"===e.key&&(e.preventDefault(),n.selectedIndex=(n.selectedIndex+1)%a.value.length)}}}};_("data-v-15f7c77a");const vn={class:"flex items-center border-b pb-4 mb-4"},kn={class:"text-overflow flex-1"};T(),bn.render=function(e,t,n,a,o,r){const s=y("v-remixicon"),i=y("ui-list-item"),l=y("ui-list"),c=y("ui-card"),d=f("autofocus");return a.state.show?(b(),I(c,{key:0,padding:"p-4",class:"command-prompt w-full max-w-lg mx-auto shadow-xl m-4"},{default:A((()=>[x("div",vn,[w(s,{name:"riSearch2Line",class:"mr-3 text-gray-600 dark:text-gray-200"}),k(x("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.state.query=e),class:"w-full bg-transparent command-input",placeholder:"Search file or type '>' to search commands",onKeyup:[t[1]||(t[1]=N(((...e)=>a.selectItem&&a.selectItem(...e)),["enter"])),t[2]||(t[2]=N(((...e)=>a.clear&&a.clear(...e)),["esc"]))],onKeydown:t[3]||(t[3]=(...e)=>a.keydownHandler&&a.keydownHandler(...e))},null,544),[[O,a.state.query],[d]])]),w(l,{class:"max-h-80 overflow-auto space-y-1 scroll command-scroll"},{default:A((()=>[(b(!0),v(C,null,L(a.items,((e,t)=>(b(),I(i,{key:e.id,active:t===a.state.selectedIndex,class:S([{"active-command-item":t===a.state.selectedIndex},"cursor-pointer"]),onClick:t=>a.selectItem(e,!0)},{default:A((()=>[x("p",kn,D(e.title||"Untitled note"),1),e.shortcut?(b(!0),v(C,{key:0},L(e.shortcut,(e=>(b(),v("kbd",{key:e},D(e),1)))),128)):V("",!0)])),_:2},1032,["active","class","onClick"])))),128))])),_:1})])),_:1})):V("",!0)},bn.__scopeId="data-v-15f7c77a";const xn={components:{AppSidebar:dn,AppCommandPrompt:bn},setup(){const e=en(),t=ln(),n=m(),a=on(),o=sn(),r=c(!1);if(localStorage.getItem("first-time")){t.retrieve().then((()=>r.value=!0));const e=localStorage.getItem("lastNoteEdit");e&&n.push(`/note/${e}`)}else{const e=Promise.allSettled(Object.values(cn).map((({title:e,content:t,id:n})=>a.add({id:n,title:e,content:JSON.parse(t)}))));o.add("Introduction"),o.add("Tutorial"),e.then((()=>{const e=a.notes.find((({title:e})=>"Welcome to Beaver Notes"===e));e&&n.push(`/note/${e.id}`),localStorage.setItem("first-time",!1),r.value=!0}))}return e.loadTheme(),{store:t,retrieved:r}},render:function(e,t,n,a,o,r){const s=y("app-command-prompt"),i=y("app-sidebar"),l=y("router-view"),c=y("ui-dialog");return b(),v(C,null,[w(s),a.store.inFocusMode?V("",!0):(b(),I(i,{key:0})),a.retrieved?(b(),v("main",{key:1,class:S({"pl-16":!a.store.inFocusMode})},[w(l)],2)):V("",!0),w(c)],64)}};E.extend($);const wn={animation:"shift-toward-subtle",theme:"my-theme"};function Sn(e,t={}){return e.setAttribute&&e.setAttribute("vtooltip",""),P(e,i(i({},wn),t))}function Cn(e,t={}){const n=j(null);return q((()=>{let a=[];a=Array.isArray(e)?e.map((e=>e._tippy||Sn(e))):(U()&&U().ctx)._tooltipGroup||[],n.value=F(a,l(i(i({},wn),t),{theme:"tooltip-theme",placement:"right",moveTransition:"transform 0.2s ease-out",overrides:["placement","theme"]}))})),n}const Ln={key:0,class:"text-primary dark:text-amber-400 mt-2 mb-1 line-clamp w-full"},In=["to","onClick"],An={class:"flex z-10 items-center mt-4 text-gray-600 dark:text-gray-200"},_n=x("div",{class:"flex-grow"},null,-1),Tn={class:"text-overflow"},Bn={props:{note:{type:Object,default:()=>({})}},emits:["update","delete","update:label"],setup:e=>(Cn(),(t,n)=>{const a=y("router-link"),o=y("v-remixicon"),r=y("ui-card"),s=f("tooltip");return b(),I(r,{class:"hover:ring-2 ring-amber-300 group note-card transition flex flex-col",padding:"p-5"},{default:A((()=>{return[w(a,{to:`/note/${e.note.id}`,class:"font-semibold text-lg block line-clamp leading-tight"},{default:A((()=>[K(D(e.note.title),1)])),_:1},8,["to"]),0!==e.note.labels.length?(b(),v("div",Ln,[(b(!0),v(C,null,L(e.note.labels,(e=>(b(),v("span",{key:e,to:`/?label=${e}`,class:"inline-block mr-2 hover:underline cursor-pointer",onClick:n=>t.$emit("update:label",e)}," #"+D(e),9,In)))),128))])):V("",!0),w(a,{to:`/note/${e.note.id}`,class:"text-gray-600 block dark:text-gray-100 flex-1",style:{"min-height":"64px"}},{default:A((()=>[K(D(z(hn)(e.note.content,160)||"No content"),1)])),_:1},8,["to"]),x("div",An,[e.note.isArchived?V("",!0):k((b(),v("button",{key:0,class:"hover:text-gray-900 mr-2 dark:hover:text-white transition",onClick:n[0]||(n[0]=n=>t.$emit("update",{isBookmarked:!e.note.isBookmarked}))},[w(o,{name:e.note.isBookmarked?"riBookmarkFill":"riBookmarkLine"},null,8,["name"])],512)),[[s,e.note.isBookmarked?"Remove bookmark":"Bookmark",void 0,{group:!0}]]),k(x("button",{class:"\n          hover:text-gray-900\n          mr-2\n          dark:hover:text-white\n          transition\n          invisible\n          group-hover:visible\n        ",onClick:n[1]||(n[1]=n=>t.$emit("update",{isArchived:!e.note.isArchived}))},[w(o,{name:e.note.isArchived?"riInboxUnarchiveLine":"riArchiveLine"},null,8,["name"])],512),[[s,e.note.isArchived?"Unarchive":"Archive",void 0,{group:!0}]]),k(x("button",{class:"\n          hover:text-red-500\n          dark:hover:text-red-400\n          transition\n          invisible\n          group-hover:visible\n        ",onClick:n[2]||(n[2]=n=>t.$emit("delete",e.note.id))},[w(o,{name:"riDeleteBin6Line"})],512),[[s,"Delete",void 0,{group:!0}]]),_n,x("p",Tn,D((r=e.note.createdAt,E(r).fromNow())),1)])];var r})),_:1})})},Mn={props:{sortOrder:{type:String,default:"asc"},sortBy:{type:String,default:"createdAt"},query:{type:String,default:""},label:{type:String,default:""},labels:{type:Object,default:()=>({})}},emits:["update:query","update:label","update:sortOrder","update:sortBy","delete:label"],setup(){const e=navigator.platform.toUpperCase().includes("MAC"),t=e?"Cmd":"Ctrl";return p.bind(e?"mod+f":"ctrl+f",(()=>{document.querySelector(".note-search-input input")?.focus()})),g((()=>{p.unbind(e?"mod+f":"ctrl+f")})),{sorts:{title:"Alphabetical",createdAt:"Created date",updatedAt:"Last updated"},keyBinding:t}}},Hn={class:"flex items-start mb-6 space-x-4"},On={class:"flex-1"},Nn={class:"text-sm text-gray-600 dark:text-gray-300 ml-2"},Dn={class:"flex items-center divide-x btn-group"},Vn=x("option",{value:"",selected:""},"Select label",-1),En=["valye"],$n={class:"flex items-center divide-x btn-group"},Pn=["value"];Mn.render=function(e,t,n,a,o,r){const s=y("ui-input"),i=y("v-remixicon"),l=y("ui-button"),c=y("ui-select"),d=f("tooltip");return b(),v("div",Hn,[x("div",On,[w(s,{"model-value":n.query,class:"w-full note-search-input","prepend-icon":"riSearch2Line",placeholder:"Search...",onKeydown:t[0]||(t[0]=N((e=>e.target.blur()),["esc"])),onChange:t[1]||(t[1]=t=>e.$emit("update:query",t.toLocaleLowerCase()))},null,8,["model-value"]),x("span",Nn," Press "+D(a.keyBinding)+"+F to start search ",1)]),x("div",Dn,[k(w(l,{icon:"",class:"rounded-r-none",onClick:t[2]||(t[2]=t=>e.$emit("delete:label",n.label))},{default:A((()=>[w(i,{name:""===n.label?"riPriceTag3Line":"riDeleteBin6Line"},null,8,["name"])])),_:1},512),[[d,""===n.label?"Select label":"Delete current label"]]),w(c,{"model-value":n.label,onChange:t[3]||(t[3]=t=>e.$emit("update:label",t))},{default:A((()=>[Vn,(b(!0),v(C,null,L(n.labels,(e=>(b(),v("option",{key:e,valye:e},D(e),9,En)))),128))])),_:1},8,["model-value"])]),x("div",$n,[k(w(l,{icon:"",class:"rounded-r-none",onClick:t[4]||(t[4]=t=>e.$emit("update:sortOrder","asc"===n.sortOrder?"desc":"asc"))},{default:A((()=>[w(i,{name:"asc"===n.sortOrder?"riSortAsc":"riSortDesc"},null,8,["name"])])),_:1},512),[[d,"asc"===n.sortOrder?"Ascending":"Descending"]]),w(c,{"model-value":n.sortBy,onChange:t[5]||(t[5]=t=>e.$emit("update:sortBy",t))},{default:A((()=>[(b(!0),v(C,null,L(a.sorts,((e,t)=>(b(),v("option",{key:t,value:t},D(e),9,Pn)))),128))])),_:1},8,["model-value"])])])};class jn extends class{constructor({breakpoints:e}){this.breakpoints=e,this.keydownHandler=this._keydownHandler.bind(this)}activeItemIndex(){return this.items.indexOf(this.activeItem)}getBreakpoint(){let e=this.breakpoints?.default||1;return Object.keys(this.breakpoints||{}).forEach((t=>{window.matchMedia(t).matches&&(e=this.breakpoints[t])})),e}_keydownHandler(e){const t={ArrowUp:this.upHandler.bind(this),ArrowDown:this.downHandler.bind(this),ArrowLeft:this.leftHandler.bind(this),ArrowRight:this.rightHandler.bind(this)},n=["INPUT","SELECT","TEXTAREA"].includes(e.target.tagName);t[e.key]&&!n?(e.preventDefault(),this.activeItem?.classList.remove(...this.activeClass),t[e.key](),this.activeItem?.classList.add(...this.activeClass),this.activeItem?.scrollIntoView({behavior:"smooth",block:"center"})):"Enter"===e.key&&this._fireEvent("select",this.activeItem),this._fireEvent("keydown",{event:e,activeItem:this.activeItem})}upHandler(){const e=this.getBreakpoint(),t=this.activeItemIndex()-e;this.activeItem=t<0?this.items[this.items.length-1]:this.items[t]}downHandler(){const e=this.getBreakpoint(),t=this.activeItemIndex()+e;t>this.items.length-1?this.activeItem=this.items[0]:this.activeItem=this.items[t]}leftHandler(){const e=this.activeItemIndex(),t=this.items[e-1];t?this.activeItem=t:e<=0&&(this.activeItem=this.items[this.items.length-1])}rightHandler(){const e=this.activeItemIndex(),t=this.items[e+1];t?this.activeItem=t:e+1>this.items.length-1&&(this.activeItem=this.items[0])}}{constructor({container:e=document,itemSelector:t="",activeClass:n="is-active",breakpoints:a}){super({container:e,breakpoints:a}),this.itemSelector=t,this.activeClass=n.split(" "),this.container="string"==typeof e?document.querySelector(e):e,this.activeItem=null,this.items=[],this.listeners={},this._retrieveItems(),window.addEventListener("keydown",this.keydownHandler)}on(e,t){(this.listeners[e]=this.listeners[e]||[]).push(t)}refresh(){this._retrieveItems(),this.activeItem?.classList.remove(...this.activeClass),this.activeItem=null}destroy(){window.removeEventListener("keydown",this.keydownHandler),this.listeners={},this.activeItem?.classList.remove(...this.activeClass)}_retrieveItems(){this.items=[...this.container.querySelectorAll(this.itemSelector)]}_fireEvent(e,t){(this.listeners[e]||[]).forEach((e=>{e(t)}))}}const qn={components:{HomeNoteCard:Bn,HomeNoteFilter:Mn},setup(){const e=R(),t=m(),n=on(),a=sn(),o=j(null),r=W({notes:[],query:"",activeLabel:"",sortBy:"createdAt",sortOrder:"asc"}),s=M((()=>function({data:e,key:t,order:n="asc"}){return Array.isArray(e)?e.sort(((e,a)=>{let o=0;const r="string"==typeof e[t]?e[t].toUpperCase():e[t],s="string"==typeof a[t]?a[t].toUpperCase():a[t];return r>s?o=1:r<s&&(o=-1),"desc"===n?-1*o:o})):console.error("Data must be an array")}({data:r.notes,order:r.sortOrder,key:r.sortBy}))),c=M((()=>function(e){const t={all:[],archived:[],bookmarked:[]};return e.forEach((e=>{const{title:n,content:a,isArchived:o,isBookmarked:s,labels:i}=e,l=!r.activeLabel||i.includes(r.activeLabel);if((r.query.startsWith("#")?i.some((e=>e.toLocaleLowerCase().includes(r.query.substr(1)))):n.toLocaleLowerCase().includes(r.query)||a.includes(r.query))&&l){if(o)return t.archived.push(e);s?t.bookmarked.push(e):t.all.push(e)}})),t}(s.value)));function d(e){const t=gn(e.content.content).toLocaleLowerCase();return l(i({},e),{content:t})}return H((()=>n.data),(()=>{r.notes=n.notes.map(d)}),{immediate:!0,deep:!0}),H((()=>e.query.label),(e=>{e&&(r.activeLabel=decodeURIComponent(e))}),{immediate:!0}),H((()=>[r.sortBy,r.sortOrder]),(([e,t])=>{localStorage.setItem("sort-notes",JSON.stringify({sortBy:e,sortOrder:t}))})),H(c,(()=>{setTimeout((()=>{o.value.refresh()}),250)})),q((()=>{const e=JSON.parse(localStorage.getItem("sort-notes"));e&&Object.assign(r,e),o.value=new jn({itemSelector:".note-card",activeClass:"ring-2 active-note",breakpoints:{default:1,"(min-width: 768px)":2,"(min-width: 1024px)":3,"(min-width: 1280px)":4}}),o.value.on("keydown",(({event:{key:e},activeItem:a})=>{const o=a?.getAttribute("note-id");a&&o&&("Enter"===e?t.push(`/note/${o}`):"Backspace"!==e&&"Delete"!==e||n.delete(o))}))})),g((()=>{o.value.destroy()})),{notes:c,state:r,noteStore:n,labelStore:a,deleteLabel:function(e){a.delete(e).then((()=>{r.activeLabel=""}))}}}},Un={class:"container py-5"},Fn=x("h1",{class:"text-3xl mb-8 font-bold"},"Notes",-1),Kn={key:0,class:"\n        grid grid-cols-1\n        md:grid-cols-2\n        lg:grid-cols-3\n        xl:grid-cols-4\n        gap-4\n      "},zn={key:1,class:"text-center"},Rn=[x("img",{src:"Notes_Outline.a14bbb48.svg",class:"mx-auto"},null,-1),x("h1",{class:"text-xl"},"It looks like you don't have a note",-1),x("p",{class:"max-w-md mx-auto dark:text-gray-300 text-gray-600 mt-2"},[K(" To create a new note, you can press "),x("kbd",null,"Ctrl"),K(" + "),x("kbd",null,"N"),K(" or click the "),x("kbd",null,"+"),K(" button on top left ")],-1)];qn.render=function(e,t,n,a,o,r){const s=y("home-note-filter"),i=y("home-note-card");return b(),v("div",Un,[Fn,w(s,G({query:a.state.query,"onUpdate:query":t[0]||(t[0]=e=>a.state.query=e),label:a.state.activeLabel,"onUpdate:label":t[1]||(t[1]=e=>a.state.activeLabel=e),sortBy:a.state.sortBy,"onUpdate:sortBy":t[2]||(t[2]=e=>a.state.sortBy=e),sortOrder:a.state.sortOrder,"onUpdate:sortOrder":t[3]||(t[3]=e=>a.state.sortOrder=e)},{labels:a.labelStore.data},{"onDelete:label":a.deleteLabel}),null,16,["query","label","sortBy","sortOrder","onDelete:label"]),0!==a.noteStore.notes.length?(b(),v("div",Kn,[(b(!0),v(C,null,L(e.$route.query.archived?["archived"]:["bookmarked","all"],(e=>(b(),v(C,{key:e},[0!==a.notes[e].length?(b(),v("p",{key:0,class:S(["col-span-full text-gray-600 dark:text-gray-200 capitalize",{"mt-2":"all"===e}])},D(e),3)):V("",!0),(b(!0),v(C,null,L(a.notes[e],(e=>(b(),I(i,G({key:e.id,"note-id":e.id},{note:e},{"onUpdate:label":t[4]||(t[4]=e=>a.state.activeLabel=e),onDelete:t=>a.noteStore.delete(e.id),onUpdate:t=>a.noteStore.update(e.id,t)}),null,16,["note-id","onDelete","onUpdate"])))),128))],64)))),128))])):(b(),v("div",zn,Rn))])};const Wn={key:0,class:"text-center"},Gn={class:"text-overflow"},Jn=K(' Add "'),Xn={class:"text-overflow"},Yn=K('" '),Qn={props:{onSelect:Function,labelKey:{type:String,default:""},range:{type:Object,default:()=>({})},onAdd:{type:Function,default:()=>{}},command:{type:Function,required:!0},editor:{type:Object,default:()=>({})},query:{type:String,default:""},items:{type:Array,default:()=>[]},showAdd:{type:Boolean,default:!1}},setup(e,{expose:t}){const n=e,a=c(0);function o(e){return n.labelKey?e[n.labelKey]:e}function r(e){const t=n.items[e];t?n.onSelect(i({item:t},n)):n.showAdd&&""!==n.query&&n.onAdd(n.query,n.command)}return H((()=>n.items),(()=>{a.value=0})),t({onKeyDown:function({event:e}){switch(e.key){case"ArrowUp":return a.value=(a.value+n.items.length-1)%n.items.length,!0;case"ArrowDown":return function(){const e=n.items.length+(n.showAdd&&""!==n.query?1:0);a.value=(a.value+1)%e}(),!0;case"Enter":return r(a.value),!0;default:return!1}}}),(t,n)=>{const s=y("ui-list-item"),i=y("v-remixicon"),l=y("ui-list"),c=y("ui-card");return b(),I(c,{class:"border max-w-xs",padding:"p-2",style:{"max-width":"16rem","min-width":"6rem"}},{default:A((()=>[w(l,{class:"cursor-pointer space-y-1"},{default:A((()=>[0===e.items.length&&0===e.query.length?(b(),v("p",Wn," No data ")):(b(!0),v(C,{key:1},L(e.items,((e,t)=>(b(),I(s,{key:t,active:t===a.value,class:"label-item w-full text-overflow",onClick:e=>r(t)},{default:A((()=>[x("p",Gn,D(o(e)||"Untitled"),1)])),_:2},1032,["active","onClick"])))),128)),e.showAdd&&0!==e.query.length?(b(),I(s,{key:2,active:e.items.length===a.value,class:"text-overflow w-full",onClick:n[0]||(n[0]=t=>e.onAdd(e.query,e.command))},{default:A((()=>[w(i,{name:"riAddLine",class:"mr-2"}),Jn,x("strong",Xn,D(e.query.slice(0,50)),1),Yn])),_:1},8,["active"])):V("",!0)])),_:1})])),_:1})}}};function Zn({name:e,props:t={},configure:n={}}){return J.create(i({name:e,defaultOptions:{HTMLAttributes:{},renderLabel:({options:e,node:t})=>`${e.suggestion.char}${t.attrs.label??t.attrs.id}`,suggestion:{char:"@",pluginKey:new X(e),render:()=>{let e,n;return{onStart:a=>{e=new Y(Qn,{props:i(i({},a),t),editor:a.editor}),n=Sn("body",{getReferenceClientRect:a.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"})},onUpdate(a){e.updateProps(i(i({},a),t)),n[0].setProps({getReferenceClientRect:a.clientRect})},onKeyDown:t=>"Escape"===t.event.key?(n[0].hide(),!0):e.ref?.onKeyDown(t),onExit(){n[0].destroy(),e.destroy()}}},command:({editor:t,range:n,props:a})=>{const o=t.view.state.selection.$to.nodeAfter?.text?.startsWith(" ");o&&(n.to+=1),t.chain().focus().insertContentAt(n,[{type:e,attrs:a},{type:"text",text:" "}]).run()},allow:({editor:t,range:n})=>t.can().insertContentAt(n,{type:e})}},group:"inline",inline:!0,selectable:!1,atom:!0,parseHTML:()=>[{tag:"span[data-mention]"}],renderHTML({node:e,HTMLAttributes:t}){return["span",Q({"data-mention":""},this.options.HTMLAttributes,t),this.options.renderLabel({options:this.options,node:e})]},addAttributes:()=>({id:{default:null,parseHTML:e=>({id:e.getAttribute("data-id")}),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>({label:e.getAttribute("data-label")}),renderHTML:e=>e.label?{"data-label":e.label}:{}}}),renderText({node:e}){return this.options.renderLabel({options:this.options,node:e})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command((({tr:e,state:t})=>{let n=!1;const{selection:a}=t,{empty:o,anchor:r}=a;return!!o&&(t.doc.nodesBetween(r-1,r,((t,a)=>{if(t.type.name===this.name)return n=!0,e.insertText(this.options.suggestion.char||"",a,a+t.nodeSize),!1})),n)}))}},addProseMirrorPlugins(){return[Z(i({editor:this.editor},this.options.suggestion))]}},n))}const ea=Zn({name:"noteLabel",props:{showAdd:!0,onAdd:(e,t)=>{sn().add(e).then((e=>{t({id:e})}))},onSelect:({item:e,command:t})=>{t({id:e})}}}).configure({HTMLAttributes:{class:"mention"},suggestion:{char:"#",items:e=>sn().data.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))).slice(0,7)}});var ta=J.create({name:"math_inline",group:"inline math",content:"text*",inline:!0,atom:!0,parseHTML:()=>[{tag:"math-inline"}],renderHTML:()=>["math-inline",{class:"math-node"},0],addProseMirrorPlugins:()=>[ee],addInputRules(){return[te(ne,this.type)]}});const na={components:{NodeViewWrapper:ae},directives:{focus:(e,{value:t=!0})=>{t&&e.focus()}},props:oe,setup(e){const t=c(null),n=c(!1),a=c(!1);function o(){let n={};try{n=JSON.parse(e.node.attrs.macros)}catch(e){}re.render(e.node.attrs.content||"Empty",t.value,{macros:n,displayMode:!0,throwOnError:!1})}return q((()=>{e.updateAttributes({init:"true"}),o()})),{contentRef:t,handleKeydown:function(t){const{ctrlKey:o,shiftKey:r,metaKey:s,key:i}=t,l=(o||s)&&"Enter"===i,c=(o||s)&&r&&"M"===i,d=e.editor.isActive("mathBlock")&&!a.value&&["ArrowUp","ArrowDown"].includes(i);l||d?(e.editor.commands.focus(),a.value=!1,n.value=!1):c&&(n.value=!n.value)},updateContent:function({target:{value:t}},n,r){a.value=!0,e.updateAttributes({[n]:t}),r&&o()},useKatexMacros:n,isContentChange:a}}},aa={key:0,class:"bg-input transition rounded-lg p-2"},oa={class:"flex mb-2"},ra=["value"],sa=["value"],ia={class:"flex border-t items-center pt-2 text-gray-600 dark:text-gray-300"},la=x("img",{src:"katex.3abd674f.svg",width:"48",style:{margin:"0"}},null,-1),ca=x("div",{class:"flex-grow"},null,-1),da={key:0,class:"text-sm",style:{margin:"0"}},ua=[K(" Press "),x("strong",null,"Ctrl",-1),K("+"),x("strong",null,"Enter",-1),K(" to exit from math block ")];na.render=function(e,t,n,a,o,r){const s=y("v-remixicon"),i=y("node-view-wrapper"),l=f("focus"),c=f("autofocus"),d=f("tooltip");return b(),I(i,null,{default:A((()=>[x("p",{ref:"contentRef",class:S({"dark:text-purple-400 text-purple-500":e.selected})},null,2),e.selected?(b(),v("div",aa,[x("div",oa,[k(x("textarea",{value:e.node.attrs.content,type:"textarea",placeholder:"Text here...",class:"bg-transparent flex-1",onInput:t[0]||(t[0]=e=>a.updateContent(e,"content",!0)),onKeydown:t[1]||(t[1]=(...e)=>a.handleKeydown&&a.handleKeydown(...e))},null,40,ra),[[l,!a.useKatexMacros]]),a.useKatexMacros?k((b(),v("textarea",{key:0,value:e.node.attrs.macros,placeholder:"KaTeX macros",class:"bg-transparent ml-2 pl-2 border-l flex-1",onInput:t[2]||(t[2]=e=>a.updateContent(e,"macros",!0)),onKeydown:t[3]||(t[3]=(...e)=>a.handleKeydown&&a.handleKeydown(...e))},null,40,sa)),[[c]]):V("",!0)]),x("div",ia,[la,ca,a.isContentChange?(b(),v("p",da,ua)):V("",!0),k(w(s,{class:S([{"text-primary":a.useKatexMacros},"ml-2 cursor-pointer"]),name:"riSettings3Line",onClick:t[4]||(t[4]=e=>a.useKatexMacros=!a.useKatexMacros)},null,8,["class"]),[[d,"KaTeX Macros (Ctrl+Shift+M)"]])])])):V("",!0)])),_:1})};const pa=/\$\$\s+$/;var ma=J.create({name:"mathBlock",group:"block",atom:!0,addAttributes:()=>({content:{default:""},macros:{default:'{\n  \\f: "#1f(#2)"\n}'},init:{default:""}}),parseHTML:()=>[{tag:"math-block"}],renderHTML:({HTMLAttributes:e})=>["math-block",Q(e)],addNodeView:()=>se(na),addInputRules(){return[ie(pa,this.type)]}});const ha={components:{NodeViewWrapper:ae,NodeViewContent:le},props:oe,setup:e=>({selectedLanguage:M({set(t){e.updateAttributes({language:t})},get:()=>e.node.attrs.language})})};_("data-v-6572c700");const ga=x("option",{value:null},"auto",-1),ya=x("option",{disabled:""},"—",-1),fa=["value"];T(),ha.render=function(e,t,n,a,o,r){const s=y("node-view-content"),i=y("node-view-wrapper");return b(),I(i,{class:"relative"},{default:A((()=>[k(x("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.selectedLanguage=e),contenteditable:"false",class:"\n        absolute\n        text-sm\n        right-0\n        m-2\n        rounded\n        bg-opacity-5 bg-black\n        dark:bg-gray-300 dark:bg-opacity-5\n      "},[ga,ya,(b(!0),v(C,null,L(e.extension.options.lowlight.listLanguages(),((e,t)=>(b(),v("option",{key:t,value:e},D(e),9,fa)))),128))],512),[[ce,a.selectedLanguage]]),x("pre",null,[w(s,{as:"code"})])])),_:1})},ha.__scopeId="data-v-6572c700";var ba=de.extend({addNodeView:()=>se(ha)}).configure({lowlight:ue});const va=Zn({name:"linkNote",props:{labelKey:"title",onSelect:({item:e,command:t,editor:n,range:a})=>{t({id:e.id,label:e.title});const{from:o,to:r}=a;n.chain().focus().setTextSelection({from:o,to:r-1}).setLink({href:`note://${e.id}`}).setTextSelection(r).run()}},configure:{parseHTML:()=>[{tag:"span[data-link-note]"}],renderHTML({node:e,HTMLAttributes:t}){return["span",Q({"data-link-note":""},this.options.HTMLAttributes,t),this.options.renderLabel({options:this.options,node:e})]}}}).configure({renderLabel:({node:e})=>e.attrs.label??e.attrs.id,suggestion:{char:"@@",items:e=>on().notes.filter((t=>t.title.toLocaleLowerCase().startsWith(e.toLowerCase())&&Qo.currentRoute.value.params.id!==t.id)).slice(0,7)}}),ka=new class{constructor(){this.options={},this.results=[],this.searchTerm=null,this._updating=!1}get findRegExp(){return RegExp(this.searchTerm,this.options.caseSensitive?"gu":"gui")}get decorations(){return this.results.map((e=>ge.inline(e.from,e.to,{class:this.options.findClass})))}_search(e){this.results=[];const t=[];let n=0;this.searchTerm&&(e.descendants(((e,a)=>{e.isText?t[n]?t[n]={text:t[n].text+e.text,pos:t[n].pos}:t[n]={text:e.text,pos:a}:n+=1})),t.forEach((({text:e,pos:t})=>{const n=this.findRegExp;let a;for(;(a=n.exec(e))&&""!==a[0];)this.results.push({from:t+a.index,to:t+a.index+a[0].length})})))}replace(e){return({tr:t,dispatch:n})=>{if(!this.results[0])return;const{from:a,to:o}=this.results[0];n(t.insertText(e,a,o)),this.find(this.searchTerm)}}rebaseNextResult(e,t,n=0){const a=t+1;if(!this.results[a])return null;const{from:o,to:r}=this.results[t],s=r-o-e.length+n,{from:i,to:l}=this.results[a];return this.results[a]={to:l-s,from:i-s},s}replaceAll(e){return({tr:t,dispatch:n})=>{let a;this.results.length&&(this.results.forEach((({from:n,to:o},r)=>{t.insertText(e,n,o),a=this.rebaseNextResult(e,r,a)})),n(t),this.find(this.searchTerm))}}find(e,t){return({tr:n,dispatch:a})=>{this.searchTerm=this.options.disableRegex||!t?e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"):e,this.updateView(n,a)}}clear(){return({tr:e,dispatch:t})=>{this.searchTerm=null,this.updateView(e,t)}}updateView(e,t){this._updating=!0,t(e),setTimeout((()=>{this._updating=!1}),100)}createDeco(e){return this._search(e),this.decorations?he.create(e,this.decorations):[]}};var xa=pe.create({name:"search",defaultOptions:{autoSelectNext:!0,findClass:"find",searching:!1,caseSensitive:!1,disableRegex:!0,alwaysSearch:!1},addCommands(){return ka.options=this.options,{find:(e,t)=>ka.find(e,t),replace:e=>ka.replace(e),replaceAll:e=>ka.replaceAll(e),clearSearch:()=>ka.clear()}},addProseMirrorPlugins(){return ka.options=this.options,[new me({state:{init:()=>he.empty,apply:(e,t)=>ka._updating||this.options.searching||e.docChanged&&this.options.alwaysSearch?ka.createDeco(e.doc):e.docChanged?t.map(e.mapping,e.doc):t},props:{decorations(e){return this.getState(e)}}})]}});const wa=nn("settings"),{path:Sa,ipcRenderer:Ca}=window.electron;async function La(e,t){try{const n=await wa.get("dataDir"),{ext:a,name:o}=Sa.parse(e),r=ye(o).toString()+a,s=Sa.join(n,"notes-assets",t,r);return await Ca.callMain("fs:copy",{path:e,dest:s}),{destPath:s,fileName:r}}catch(e){console.error(e)}}async function Ia(e,t){const n=ln();for(const a of e)if(a.type.startsWith("image/")&&a.path){const e=n.activeNoteId,{fileName:o}=await La(a.path,e);t(`assets://${e}/${o}`,name)}}const Aa=[be,ve,ke,xe,va,ea,we,Se,ba,ta,ma,fe.extend({addProseMirrorPlugins(){return[new me({key:new X("handlePasteLink"),props:{handleDOMEvents:{paste:async(e,t)=>{Ia(t.clipboardData.files,((t,n)=>{this.editor.isActive("image")&&this.editor.commands.setTextSelection(e.state.tr.curSelection.to+1),this.editor.commands.setImage({alt:n,src:t})}))}},handleDrop:(e,t)=>(Ia(t.dataTransfer.files,((n,a)=>{const{schema:o}=e.state,r=e.posAtCoords({left:t.clientX,top:t.clientY}),s=o.nodes.image.create({alt:a,src:n}),i=e.state.tr.insert(r.pos,s);e.dispatch(i)})),!0)}})]}}),xa,Ce,Le.configure({HTMLAttributes:{class:"inline-code"}}),Ie.extend({addKeyboardShortcuts(){return{"Mod-k":()=>this.editor.chain().focus().toggleLink().run()}}}).configure({openOnClick:!1,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow","tiptap-url":"true",title:"Ctrl+Click to open URL"}})],_a={props:{editor:{type:Object,default:()=>({})}},setup(e){const t=R(),n=on(),a=c(0),o=c(""),r=M((()=>{if(!o.value.startsWith("@"))return[];const e=o.value.substr(1).toLocaleLowerCase();return n.notes.filter((n=>n.id!==t.params.id&&(n.title.toLocaleLowerCase().includes(e)||n.id.toLocaleLowerCase().includes(e)))).slice(0,6)})),s=navigator.platform.toUpperCase().includes("MAC")?"Cmd":"Ctrl";return H(o,(e=>{e.startsWith("@")&&(a.value=0)})),H((()=>e.editor.getAttributes("link")),(e=>{o.value=(e?.href??"").replace("note://","@")}),{immediate:!0}),{notes:r,keydownHandler:function(e){if(!o.value.startsWith("@"))return;const t=r.value.length;"ArrowUp"===e.key?(e.preventDefault(),a.value=(a.value+t-1)%t):"ArrowDown"===e.key&&(e.preventDefault(),a.value=(a.value+1)%t)},currentLinkVal:o,selectedNoteIndex:a,updateCurrentLink:function(t){let n=o.value;(o.value.startsWith("@")||"string"==typeof t)&&(n=`note://${"string"==typeof t?t:r.value[a.value].id}`),e.editor.chain().focus().extendMarkRange("link").setLink({href:n}).run()},keyBinding:s}}},Ta={class:"text-overflow w-full"},Ba={class:"p-2"},Ma={class:"flex items-center space-x-2"},Ha={class:"text-xs text-gray-600 dark:text-gray-300 leading-none"};function Oa(e){const t=R();if("object"!=typeof e||null===e)return console.error("Editor is required");function n(t){e.chain().focus().setImage({src:t}).run()}return{set:n,select:function(e){return new Promise(((a,o)=>{const{ipcRenderer:r}=window.electron;r.callMain("dialog:open",{properties:["openFile"],filters:[{name:"Images",extensions:["png","jpg","jpeg"]}]}).then((({canceled:r,filePaths:s})=>{if(r||0===s.length)return o();La(s[0],t.params.id).then((({fileName:o})=>{const r=`assets://${t.params.id}/${o}`;e&&n(r),a(r)}))}))}))}}}_a.render=function(e,t,n,a,o,r){const s=y("ui-list-item"),i=y("ui-list"),l=y("expand-transition"),c=y("v-remixicon");return b(),v(C,null,[w(l,null,{default:A((()=>[a.currentLinkVal.startsWith("@")?(b(),I(i,{key:0,class:"p-2 space-y-1 border-b"},{default:A((()=>[(b(!0),v(C,null,L(a.notes,((e,t)=>(b(),I(s,{key:e.id,active:t===a.selectedNoteIndex,class:"cursor-pointer line-clamp leading-tight",onClick:t=>a.updateCurrentLink(e.id)},{default:A((()=>[x("p",Ta,D(e.title||"Untitled note"),1)])),_:2},1032,["active","onClick"])))),128))])),_:1})):V("",!0)])),_:1}),x("div",Ba,[x("div",Ma,[k(x("input",{id:"bubble-input","onUpdate:modelValue":t[0]||(t[0]=e=>a.currentLinkVal=e),type:"url",placeholder:"URL or type @ to link a note",class:"flex-1 bg-transparent",onKeydown:[t[1]||(t[1]=(...e)=>a.keydownHandler&&a.keydownHandler(...e)),t[2]||(t[2]=N((e=>n.editor.commands.focus()),["esc"]))],onKeyup:t[3]||(t[3]=N(((...e)=>a.updateCurrentLink&&a.updateCurrentLink(...e)),["enter"]))},null,544),[[O,a.currentLinkVal]]),x("button",{icon:"",class:"text-gray-600 dark:text-gray-200",title:"Remove link",onClick:t[4]||(t[4]=e=>n.editor.chain().focus().unsetLink().run())},[w(c,{name:"riLinkUnlinkM"})]),x("button",{icon:"",class:"text-gray-600 -mr-1 dark:text-gray-200",onClick:t[5]||(t[5]=(...e)=>a.updateCurrentLink&&a.updateCurrentLink(...e))},[w(c,{name:"riSave3Line"})])]),x("span",Ha,"Press "+D(a.keyBinding)+"+L to focus the input",1)])],64)};const Na={props:{editor:{type:Object,default:()=>({})}},setup(e){const t=Oa(e.editor),n=c("");return H((()=>e.editor.getAttributes("image")),(e=>{n.value=e.src??""}),{immediate:!0}),{editorImage:t,currentImage:n}}},Da={class:"p-2"},Va={class:"flex items-center"},Ea=x("span",{class:"text-xs text-gray-600 dark:text-gray-300 leading-none"},"Press Ctrl+L to focus the input",-1);Na.render=function(e,t,n,a,o,r){const s=y("v-remixicon");return b(),v("div",Da,[x("div",Va,[k(x("input",{id:"bubble-input","onUpdate:modelValue":t[0]||(t[0]=e=>a.currentImage=e),type:"text",class:"flex-1 bg-transparent w-52 mr-4",placeholder:"Image url",onKeydown:t[1]||(t[1]=N((e=>n.editor.commands.focus()),["esc"])),onKeyup:t[2]||(t[2]=N((e=>a.editorImage.set(a.currentImage)),["enter"]))},null,544),[[O,a.currentImage]]),w(s,{name:"riFolderOpenLine",title:"Open image",class:"dark:text-gray-200 text-gray-600 mr-3 cursor-pointer",onClick:t[3]||(t[3]=e=>a.editorImage.select())}),w(s,{name:"riSave3Line",class:"dark:text-gray-200 text-gray-600 cursor-pointer",onClick:t[4]||(t[4]=e=>a.editorImage.set(a.currentImage))})]),Ea])};const $a={components:{BubbleMenu:Ae,NoteBubbleMenuLink:_a,NoteBubbleMenuImage:Na},props:{editor:{type:Object,default:()=>({})}},setup(e){q((()=>{p.bind("mod+l",(()=>{(e.editor.isActive("image")||e.editor.isActive("link"))&&document.getElementById("bubble-input")?.focus()}))})),g((()=>{p.unbind("mod+l")}))},render:function(e,t,n,a,o,r){const s=y("bubble-menu");return k((b(),I(s,G({editor:n.editor,shouldShow:()=>!0},{class:"bg-white dark:bg-gray-800 rounded-lg max-w-xs border shadow-xl"}),{default:A((()=>[(b(),I(Te(n.editor.isActive("image")?"note-bubble-menu-image":"note-bubble-menu-link"),Be(Me({editor:n.editor})),null,16))])),_:1},16)),[[_e,n.editor.isActive("image")||n.editor.isActive("link")]])}},Pa={components:{EditorContent:He,NoteBubbleMenu:$a},props:{modelValue:{type:[String,Object],default:""},id:{type:String,default:""},cursorPosition:{type:Number,default:0}},emits:["init","update","update:modelValue"],setup(e,{emit:t}){const n=m(),a=Oe({content:e.modelValue,autofocus:e.cursorPosition,editorProps:{handleClick:function(e,t,{target:a,ctrlKey:o,cmdKey:r}){const s=a.closest("a"),i=s?.hasAttribute("tiptap-url"),l=a.hasAttribute("data-mention");if(i&&(o||r))if(s.href.startsWith("note://")){const e=s.href.slice(7);n.push({params:{id:e},query:{linked:!0}})}else window.open(a.href,"_blank","noopener");else l&&n.push(`/?label=${encodeURIComponent(a.dataset.id)}`)}},extensions:Aa});return q((()=>{t("init",a.value),a.value.options.element.style.fontSize=(localStorage.getItem("font-size")||"16")+"px",a.value.on("update",(()=>{const e=a.value.getJSON();t("update",e),t("update:modelValue",e)}))})),{editor:a}}},ja={class:"note-editor"};Pa.render=function(e,t,n,a,o,r){const s=y("editor-content"),i=y("note-bubble-menu");return b(),v("div",ja,[Ne(e.$slots,"default",Be(Me({editor:a.editor}))),w(s,{editor:a.editor,class:"prose dark:text-gray-100 max-w-none prose-indigo"},null,8,["editor"]),a.editor?(b(),I(i,Be(G({key:0},{editor:a.editor})),null,16)):V("",!0)])};const qa={props:{headings:{type:Array,default:()=>[]},editor:{type:Object,default:()=>({})}},emits:["close"],setup(e,{emit:t}){const n=j(""),a=j(0),o=M((()=>e.headings.filter((({text:e})=>e.toLocaleLowerCase().includes(n.value)))));function r(e){e.scrollIntoView({behavior:"smooth",block:"center"})}return{query:n,paddings:{H1:"pl-4",H2:"pl-8",H3:"pl-12",H4:"pl-16"},selectedIndex:a,keydownHandler:function({key:n}){switch(n){case"ArrowUp":event.preventDefault(),a.value=(a.value+o.value.length-1)%o.value.length;break;case"ArrowDown":event.preventDefault(),a.value=(a.value+1)%o.value.length;break;case"Enter":{const t=o.value[a.value].el;e.editor.commands.setTextSelection(t.pmViewDesc.posAtEnd),r(t);break}case"Escape":t("close");break;default:a.value=0}},scrollIntoView:r,filteredHeadings:o}}},Ua={class:"w-64"},Fa={class:"text-overflow"};qa.render=function(e,t,n,a,o,r){const s=y("ui-input"),i=y("ui-list-item"),l=y("ui-list");return b(),v("div",Ua,[w(s,{modelValue:a.query,"onUpdate:modelValue":t[0]||(t[0]=e=>a.query=e),modelModifiers:{lowercase:!0},"prepend-icon":"riSearchLine",placeholder:"Search headings",autofocus:"",class:"mb-4",onKeydown:a.keydownHandler},null,8,["modelValue","onKeydown"]),w(l,{class:"space-y-1 overflow-auto scroll",style:{"max-height":"calc(100vh - 10rem)"}},{default:A((()=>[(b(!0),v(C,null,L(a.filteredHeadings,((e,t)=>(b(),I(i,{key:e.text,class:S([a.paddings[e.tag],"cursor-pointer"]),active:t===a.selectedIndex,onClick:t=>a.scrollIntoView(e.el)},{default:A((()=>[x("p",Fa,D(e.text),1)])),_:2},1032,["class","active","onClick"])))),128))])),_:1})])};const Ka={components:{NoteMenuHeadingsTree:qa},props:{editor:{type:Object,default:()=>({})},tree:{type:Boolean,default:!1}},emits:["update:tree"],setup(e){const t=[{name:"ordered-list",title:"Bold",icon:"riListOrdered",activeState:"orderedList",handler:()=>e.editor.chain().focus().toggleOrderedList().run()},{name:"bullet-list",title:"Bullet list",icon:"riListUnordered",activeState:"bulletList",handler:()=>e.editor.chain().focus().toggleBulletList().run()},{name:"blockquote",title:"Blockquote",icon:"riDoubleQuotesR",activeState:"blockquote",handler:()=>e.editor.chain().focus().toggleBlockquote().run()},{name:"code-block",title:"Code Block",icon:"riCodeBoxLine",activeState:"codeBlock",handler:()=>e.editor.chain().focus().toggleCodeBlock().run()}],n=[{name:"bold",title:"Bold",icon:"riBold",activeState:"bold",handler:()=>e.editor.chain().focus().toggleBold().run()},{name:"italic",title:"Italic",icon:"riItalic",activeState:"italic",handler:()=>e.editor.chain().focus().toggleItalic().run()},{name:"underline",title:"Underline",icon:"riUnderline",activeState:"underline",handler:()=>e.editor.chain().focus().toggleUnderline().run()},{name:"strikethrough",title:"Strikethrough",icon:"riStrikethrough2",activeState:"strike",handler:()=>e.editor.chain().focus().toggleStrike().run()},{name:"inline-code",title:"Inline Block",icon:"riCodeLine",activeState:"code",handler:()=>e.editor.chain().focus().toggleCode().run()},{name:"highlight",title:"Highlight",icon:"riMarkPenLine",activeState:"highlight",handler:()=>e.editor.chain().focus().toggleHighlight().run()}],a=ln(),o=Oa(e.editor);Cn();const r=j(""),s=j([]),i=j(!1);function l(){a.inFocusMode=!a.inFocusMode,a.inFocusMode?(document.documentElement.requestFullscreen(),e.editor.commands.focus()):document.exitFullscreen()}const c={"ctrl+alt+h":()=>i.value=!i.value,"ctrl+shift+f":l};return p.bind(Object.keys(c),((e,t)=>{c[t]()})),g((()=>{p.unbind(Object.keys(c))})),{store:a,lists:t,imgUrl:r,headings:[{name:"Paragraphs",id:"paragraph"},{name:"Header 1",id:1},{name:"Header 2",id:2},{name:"Header 3",id:3},{name:"Header 4",id:4},{name:"Header 5",id:5},{name:"Header 6",id:6}],insertImage:function(){o.set(r.value),r.value="",e.editor.commands.focus()},editorImage:o,headingsTree:s,textFormatting:n,getHeadingsTree:function(){const t=e.editor.options.element.querySelectorAll("h1, h2, h3, h4"),n=Array.from(t).map((e=>({el:e,tag:e.tagName,top:e.offsetTop,text:e.innerText.slice(0,120)})));s.value=n},toggleFocusMode:l,showHeadingsTree:i}}};_("data-v-08ea6ab2");const za={class:"w-full h-full flex items-center justify-between w-full"},Ra=["onClick"],Wa=x("hr",{class:"border-r mx-2 h-6"},null,-1),Ga=["onClick"],Ja=x("hr",{class:"border-r mx-2 h-6"},null,-1),Xa=["onClick"],Ya=x("hr",{class:"border-r mx-2 h-6"},null,-1),Qa={class:"transition hoverable h-8 px-1 rounded-lg"},Za=x("hr",{class:"border-r mx-2 h-6"},null,-1);T(),Ka.render=function(e,t,n,a,o,r){const s=y("v-remixicon"),i=y("ui-popover"),l=y("note-menu-headings-tree"),c=f("tooltip");return b(),v("div",{class:S(["\n      text-gray-600\n      dark:text-gray-300\n      bg-[#FFFFFF]\n      dark:bg-[#232222] dark:text-gray-50\n      overflow-x-auto\n      scroll\n      border-b\n      z-20\n      top-0\n      w-full\n      left-0\n      py-1\n      sticky\n      top-0\n    ",{"opacity-0 hover:opacity-100 transition":a.store.inFocusMode}])},[x("div",za,[k(x("button",{class:S([{"is-active":n.editor.isActive("paragraph")},"transition hoverable h-8 px-1 rounded-lg"]),onClick:t[0]||(t[0]=e=>n.editor.chain().focus().setParagraph().run())},[w(s,{name:"riParagraph"})],2),[[c,"Paragraph",void 0,{group:!0}]]),(b(),v(C,null,L([1,2],(e=>k(x("button",{key:e,class:S([{"is-active":n.editor.isActive("heading",{level:e})},"transition hoverable h-8 px-1 rounded-lg"]),onClick:t=>n.editor.chain().focus().toggleHeading({level:e}).run()},[w(s,{name:`riH${e}`},null,8,["name"])],10,Ra),[[c,`Heading ${e}`,void 0,{group:!0}]]))),64)),Wa,(b(!0),v(C,null,L(a.textFormatting,(e=>k((b(),v("button",{key:e.name,class:S([{"is-active":n.editor.isActive(e.activeState)},"transition hoverable h-8 px-1 rounded-lg"]),onClick:e.handler},[w(s,{name:e.icon},null,8,["name"])],10,Ga)),[[c,e.title,void 0,{group:!0}]]))),128)),Ja,(b(!0),v(C,null,L(a.lists,(e=>k((b(),v("button",{key:e.name,class:S([{"is-active":n.editor.isActive(e.activeState)},"transition hoverable h-8 px-1 rounded-lg"]),onClick:e.handler},[w(s,{name:e.icon},null,8,["name"])],10,Xa)),[[c,e.title,void 0,{group:!0}]]))),128)),Ya,w(i,{padding:"p-2 flex items-center"},{trigger:A((()=>[k(x("button",Qa,[w(s,{name:"riImageLine"})],512),[[c,"Image",void 0,{group:!0}]])])),default:A((()=>[k(x("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.imgUrl=e),class:"bg-transparent mr-2",placeholder:"Image url",onKeyup:t[2]||(t[2]=N(((...e)=>a.insertImage&&a.insertImage(...e)),["enter"]))},null,544),[[O,a.imgUrl]]),w(s,{name:"riFolderOpenLine",class:"mr-2 cursor-pointer",onClick:t[3]||(t[3]=e=>a.editorImage.select(!0))}),w(s,{name:"riSave3Line",class:"mr-2 cursor-pointer",onClick:a.insertImage},null,8,["onClick"])])),_:1}),k(x("button",{class:S([{"is-active":n.editor.isActive("link")},"transition hoverable h-8 px-1 rounded-lg"]),onClick:t[4]||(t[4]=e=>n.editor.chain().focus().toggleLink({href:""}).run())},[w(s,{name:"riLink"})],2),[[c,"Link",void 0,{group:!0}]]),Za,k(x("button",{class:S([{"is-active":a.store.inFocusMode},"hoverable h-8 px-1 rounded-lg h-full"]),onClick:t[5]||(t[5]=(...e)=>a.toggleFocusMode&&a.toggleFocusMode(...e))},[w(s,{name:"riFocus3Line"})],2),[[c,"Focus mode",void 0,{group:!0}]]),k(x("button",{class:S([{"is-active":n.tree},"hoverable h-8 px-1 rounded-lg h-full"]),onClick:t[6]||(t[6]=e=>a.showHeadingsTree=!a.showHeadingsTree)},[w(s,{name:"riSearchLine"})],2),[[c,"Headings tree",void 0,{group:!0}]]),w(i,{modelValue:a.showHeadingsTree,"onUpdate:modelValue":t[8]||(t[8]=e=>a.showHeadingsTree=e),trigger:"manual",onShow:a.getHeadingsTree,onClose:t[9]||(t[9]=e=>n.editor.commands.focus())},{default:A((({isShow:e})=>[e?(b(),I(l,{key:0,editor:n.editor,headings:a.headingsTree,onClose:t[7]||(t[7]=e=>{a.showHeadingsTree=!1,n.editor.commands.focus()})},null,8,["editor","headings"])):V("",!0)])),_:1},8,["modelValue","onShow"])])],2)},Ka.__scopeId="data-v-08ea6ab2";const eo={props:{editor:{type:Object,default:()=>({})}},setup(e){const t=B({query:"",useRegex:!1,replaceWith:""});function n(){""!==t.replaceWith&&e.editor.commands.replace(t.replaceWith)}function a(){""!==t.replaceWith&&e.editor.commands.replaceAll(t.replaceWith)}const o={"alt+r":()=>t.useRegex=!t.useRegex,"alt+enter":n,"mod+alt+enter":a};return p.bind(Object.keys(o),((e,t)=>{o[t]()})),q((()=>{const{state:n}=e.editor,{from:a,to:o}=n.selection,r=n.doc.textBetween(a,o," ");r&&(t.query=r)})),g((()=>{e.editor.commands.clearSearch(),p.unbind(Object.keys(o))})),{state:t,search:function(){e.editor.commands.find(t.query,t.useRegex),setTimeout((()=>{e.editor.commands.scrollIntoView()}),200)},replaceText:n,replaceAllText:a}}},no={class:"\n      fixed\n      bottom-0\n      pl-20\n      bg-white\n      dark:bg-gray-800\n      flex\n      items-center\n      left-0\n      w-full\n      py-2\n      pr-8\n      z-30\n    "},ao=K(" Find "),oo=K(" Replace "),ro=K(" Replace all ");eo.render=function(e,t,n,a,o,r){const s=y("v-remixicon"),i=y("ui-button"),l=y("ui-input"),c=f("tooltip");return b(),v("div",no,[k(w(i,{class:"mr-2",icon:"",onClick:t[0]||(t[0]=e=>a.state.useRegex=!a.state.useRegex)},{default:A((()=>[w(s,{name:"mdiRegex",class:S({"text-primary":a.state.useRegex})},null,8,["class"])])),_:1},512),[[c,"Use regex (Alt+R)"]]),k(w(i,{class:"mr-2",icon:"",onClick:t[1]||(t[1]=e=>n.editor.commands.clearSearch())},{default:A((()=>[w(s,{name:"riDeleteBackLine"})])),_:1},512),[[c,"Clear"]]),w(l,{modelValue:a.state.query,"onUpdate:modelValue":t[2]||(t[2]=e=>a.state.query=e),autofocus:"","prepend-icon":"riSearchLine",placeholder:"Search...",class:"flex-1 mr-2 editor-search",onKeyup:N(a.search,["enter"])},null,8,["modelValue","onKeyup"]),w(l,{modelValue:a.state.replaceWith,"onUpdate:modelValue":t[3]||(t[3]=e=>a.state.replaceWith=e),placeholder:"Replace...",class:"flex-1 mr-4",onKeyup:N(a.search,["enter"])},null,8,["modelValue","onKeyup"]),w(i,{class:"mr-2",onClick:a.search},{default:A((()=>[ao])),_:1},8,["onClick"]),k(w(i,{disabled:!a.state.replaceWith,class:"mr-2",onClick:a.replaceText},{default:A((()=>[oo])),_:1},8,["disabled","onClick"]),[[c,"Alt+Enter"]]),k(w(i,{disabled:!a.state.replaceWith,onClick:a.replaceAllText},{default:A((()=>[ro])),_:1},8,["disabled","onClick"]),[[c,"Ctrl+Alt+Enter"]])])};const so={components:{NoteEditor:Pa,NoteMenu:Ka,NoteSearch:eo},setup(){const e=ln(),t=R(),n=m(),a=nn(),o=on(),r=sn(),s=j(null),i=j(!1),l=M((()=>o.getById(t.params.id))),c=mn((e=>{Object.assign(e,{updatedAt:Date.now()}),o.update(l.value.id,e)}),250);return H((()=>t.params.id),((t,r)=>{r&&o.update(r,{lastCursorPosition:s.value?.state.selection.to}),t&&a.get(`notes.${t}`).then((a=>{a&&""!==a.id?(e.activeNoteId=a.id,localStorage.setItem("lastNoteEdit",t)):n.push("/")}))}),{immediate:!0}),q((()=>{p.bind(["mod+f","alt+left"],((e,a)=>{"mod+f"===a?(document.querySelector(".editor-search input")?.focus(),i.value=!0):t.query.linked&&n.back()}))})),De((()=>{const e=new Set,n=s.value?.options.element.querySelectorAll("[data-mention]")??[];Array.from(n).forEach((t=>{const n=t.dataset.id;r.data.includes(n)&&e.add(n)})),o.update(t.params.id,{labels:[...e]}),p.unbind("mod+f")})),{note:l,store:e,editor:s,showSearch:i,updateNote:c,closeSearch:function(){i.value=!1,s.value.commands.focus()}}}},io={key:0,class:"max-w-3xl mx-auto relative px-4 lg:px-0"},lo=x("span",null,"Previous note",-1),co=["value"];so.render=function(e,t,n,a,o,r){const s=y("v-remixicon"),i=y("note-menu"),l=y("note-search"),c=y("note-editor");return a.note?(b(),v("div",io,[e.$route.query.linked&&!a.store.inFocusMode?(b(),v("button",{key:0,class:"left-0 ml-24 mt-4 fixed group",title:"Alt+Arrow left",onClick:t[0]||(t[0]=t=>e.$router.back())},[w(s,{name:"riArrowDownLine",class:"\n          mr-2\n          -ml-1\n          group-hover:-translate-x-1\n          transform\n          transition\n          rotate-90\n        "}),lo])):V("",!0),a.editor?(b(),v(C,{key:1},[w(i,G({editor:a.editor},{class:"mb-6"}),null,16),a.showSearch?(b(),I(l,G({key:0},{editor:a.editor},{onKeyup:N(a.closeSearch,["esc"])}),null,16,["onKeyup"])):V("",!0)],64)):V("",!0),x("input",{value:a.note.title,class:"text-4xl block font-bold bg-transparent w-full mb-6",placeholder:"Untitled note",onInput:t[1]||(t[1]=e=>a.updateNote({title:e.target.value}))},null,40,co),w(c,{id:e.$route.params.id,key:e.$route.params.id,"model-value":a.note.content,"cursor-position":a.note.lastCursorPosition,onUpdate:t[2]||(t[2]=e=>a.updateNote({content:e})),onInit:t[3]||(t[3]=e=>a.editor=e)},null,8,["id","model-value","cursor-position"])])):V("",!0)};const uo={class:"container py-6"},po=x("h1",{class:"text-3xl mb-10 font-bold"},"Settings",-1),mo={class:"flex"},ho={class:"w-64"},go={setup(e){const t={Settings:{name:"General",icon:"riWindowLine",path:"/settings",description:""},"Settings-Shortcuts":{name:"Shortcuts",icon:"riKeyboardLine",path:"/settings/shortcuts",description:""},"Settings-About":{name:"About",icon:"riInformationLine",path:"/settings/about",description:""}};return(e,n)=>{const a=y("v-remixicon"),o=y("ui-list-item"),r=y("router-link"),s=y("ui-list"),i=y("router-view");return b(),v("div",uo,[po,x("div",mo,[x("div",ho,[w(s,{class:"\n            space-y-1\n            sticky\n            top-10\n            mr-8\n            rounded-lg\n            dark:text-gray-200\n            text-gray-600\n          "},{default:A((()=>[(b(),v(C,null,L(t,((e,t)=>w(r,{key:t,to:e.path,class:"block"},{default:A((({isExactActive:t})=>[w(o,{active:t,class:"cursor-pointer"},{default:A((()=>[w(a,{name:e.icon,class:"mr-2 -ml-1"},null,8,["name"]),K(" "+D(e.name),1)])),_:2},1032,["active"])])),_:2},1032,["to"]))),64))])),_:1})]),w(i)])])}}},yo={setup(){const{ipcRenderer:e,path:t}=window.electron,n=en(),a=function(e){h.emit("show-dialog","prompt",e)},o=nn(),r=B({dataDir:"",password:"",fontSize:"16",withPassword:!1});function s(t,n={}){e.callMain("dialog:message",i({type:"error",title:"Alert",message:t},n))}async function l(e){try{const t=[{key:"notes",dfData:{}},{key:"labels",dfData:[]}];for(const{key:n,dfData:a}of t){const t=await o.get(n,a),r=e[n]??a;let s;if("labels"===n){const e=[...t,...r];s=[...new Set(e)]}else s=i(i({},t),r);await o.set(n,s)}window.location.reload()}catch(e){console.error(e)}}return q((()=>{r.fontSize=localStorage.getItem("font-size")||"16"})),{state:r,theme:n,themes:[{name:"light",img:"light.c7aef12b.png"},{name:"dark",img:"dark.ef456b7e.png"},{name:"system",img:"system.22300f75.png"}],storage:o,fontSize:[8,10,12,14,16,18,20,22,24,26],exportData:async function(){try{const{canceled:n,filePaths:a}=await e.callMain("dialog:open",{title:"Export data",properties:["openDirectory"]});if(n)return;let s=await o.store();r.withPassword&&(s=Ve.encrypt(JSON.stringify(s),r.password).toString());const i=E().format("[Beaver Notes] YYYY-MM-DD"),l=t.join(a[0],i),c=await o.get("dataDir","","settings");await e.callMain("fs:ensureDir",l),await e.callMain("fs:output-json",{path:t.join(l,"data.json"),data:{data:s}}),await e.callMain("fs:copy",{path:t.join(c,"notes-assets"),dest:t.join(l,"assets")}),alert(`Notes is exported in "${i}" folder`),r.withPassword=!1,r.password=""}catch(e){console.error(e)}},importData:async function(){try{const{canceled:n,filePaths:[r]}=await e.callMain("dialog:open",{title:"Import data",properties:["openDirectory"],filters:[{name:"JSON",extensions:["json"]}]});if(n)return;let{data:i}=await e.callMain("fs:read-json",t.join(r,"data.json"));if(!i)return s("Invalid data");"string"==typeof i?a({title:"Input password",body:"This data is encrypted, you need to input the password to get access",okText:"Import",placeholder:"Password",onConfirm:e=>{try{const t=Ve.decrypt(i,e).toString(Ee);l(JSON.parse(t))}catch(e){return s("Invalid password"),!1}}}):l(i);const c=await o.get("dataDir","","settings");await e.callMain("fs:copy",{path:t.join(r,"assets"),dest:t.join(c,"notes-assets")})}catch(e){console.error(e)}},changeDataDir:async function(){try{const{canceled:t,filePaths:[n]}=await e.callMain("dialog:open",{title:"Select directory",properties:["openDirectory"]});if(t)return;s("App need to relaunch for this change to take effect",{type:"info",buttons:["Relaunch app"]}),await o.set("dataDir",n),await e.callMain("helper:relaunch")}catch(e){console.error(e)}},updateFontSize:function(e){r.fontSize=e,localStorage.setItem("font-size",e)}}}},fo={class:"general space-y-8 w-full max-w-xl"},bo=x("p",{class:"mb-2"},"App theme",-1),vo={class:"flex space-x-4 text-gray-600 dark:text-gray-200"},ko=["onClick"],xo=["src"],wo={class:"capitalize text-center text-sm"},So=x("p",{class:"mb-2"},"Editor font size",-1),Co=["value"],Lo=x("p",{class:"mb-2"},"Import/Export data",-1),Io={class:"flex space-x-4"},Ao={class:"bg-input transition w-6/12 rounded-lg p-4"},_o={class:"text-center mb-8 dark:text-gray-300 text-gray-600"},To={class:"\n                p-5\n                rounded-full\n                bg-black\n                dark:bg-white dark:bg-opacity-5\n                bg-opacity-5\n                inline-block\n              "},Bo=K(" Encrypt with password "),Mo=K("Export data"),Ho={class:"bg-input transition w-6/12 rounded-lg p-4 flex flex-col"},Oo={class:"text-center mb-6 dark:text-gray-300 text-gray-600"},No={class:"\n                p-5\n                rounded-full\n                bg-black\n                dark:bg-white dark:bg-opacity-5\n                bg-opacity-5\n                inline-block\n              "},Do=x("div",{class:"flex-grow"},null,-1),Vo=K(" Import Data ");yo.render=function(e,t,n,a,o,r){const s=y("ui-select"),i=y("v-remixicon"),l=y("ui-checkbox"),c=y("ui-input"),d=y("expand-transition"),u=y("ui-button");return b(),v("div",fo,[x("section",null,[bo,x("div",vo,[(b(!0),v(C,null,L(a.themes,(e=>(b(),v("button",{key:e.name,class:S([{"ring-2 ring-primary":a.theme.currentTheme.value===e.name},"bg-input p-2 rounded-lg transition cursor-pointer"]),onClick:t=>a.theme.setTheme(e.name)},[x("img",{src:e.img,class:"w-40 border-2 mb-1 rounded-lg"},null,8,xo),x("p",wo,D(e.name),1)],10,ko)))),128))])]),x("section",null,[So,w(s,{"model-value":a.state.fontSize,readonly:"",class:"w-full",onChange:a.updateFontSize},{default:A((()=>[(b(!0),v(C,null,L(a.fontSize,(e=>(b(),v("option",{key:e,value:e},D(e),9,Co)))),128))])),_:1},8,["model-value","onChange"])]),x("section",null,[Lo,x("div",Io,[x("div",Ao,[x("div",_o,[x("span",To,[w(i,{size:"36",name:"riFileUploadLine"})])]),w(l,{modelValue:a.state.withPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>a.state.withPassword=e)},{default:A((()=>[Bo])),_:1},8,["modelValue"]),w(d,null,{default:A((()=>[a.state.withPassword?(b(),I(c,{key:0,modelValue:a.state.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.state.password=e),placeholder:"Password",class:"mt-2",autofocus:"",onKeyup:N(a.exportData,["enter"])},null,8,["modelValue","onKeyup"])):V("",!0)])),_:1}),w(u,{class:"w-full mt-4",onClick:a.exportData},{default:A((()=>[Mo])),_:1},8,["onClick"])]),x("div",Ho,[x("div",Oo,[x("span",No,[w(i,{size:"36",name:"riFileDownloadLine"})])]),Do,w(u,{class:"w-full mt-6",onClick:a.importData},{default:A((()=>[Vo])),_:1},8,["onClick"])])])])])},_("data-v-255fd43b");const Eo={class:"general space-y-8 w-full max-w-xl"},$o={class:"mb-2"},Po={class:"flex-1"};T();const jo={setup(e){const t=[{title:"General shortcuts",items:[{name:"Create new note",keys:n(["Ctrl","N"])},{name:"Toggle command prompt",keys:n(["Ctrl","P"])},{name:"Toggle dark theme",keys:n(["Ctrl","Shift","L"])}]},{title:"Navigates shortcuts",items:[{name:"To edited note",keys:n(["Ctrl","Shift","W"])},{name:"To notes",keys:n(["Ctrl","Shift","N"])},{name:"To archived notes",keys:n(["Ctrl","Shift","A"])},{name:"To settings",keys:n(["Ctrl",","])}]},{title:"Editor shortcuts",items:[{name:"Bold",keys:n(["Ctrl","B"])},{name:"Italic",keys:n(["Ctrl","I"])},{name:"Underline",keys:n(["Ctrl","U"])},{name:"Link",keys:n(["Ctrl","K"])},{name:"Strikethrough",keys:n(["Ctrl","Shift","X"])},{name:"Highlight",keys:n(["Ctrl","Shift","E"])},{name:"Inline code",keys:n(["Ctrl","E"])},{name:"Headings (1-6)",keys:n(["Ctrl","Alt","(1-6)"])},{name:"Ordered list",keys:n(["Ctrl","Shift","7"])},{name:"Bullet list",keys:n(["Ctrl","Shift","8"])},{name:"Blockquote",keys:n(["Ctrl","Shift","B"])},{name:"Block code",keys:n(["Ctrl","Alt","C"])},{name:"Previous note",keys:n(["Alt","Arrow left"])}]}];function n(e){return a()?e.map((e=>e.replace("Ctrl","Cmd"))):e}function a(){return navigator.platform.toUpperCase().indexOf("MAC")>=0}return(e,n)=>{const o=y("ui-list-item"),r=y("ui-list");return b(),v("div",Eo,[(b(),v(C,null,L(t,(e=>x("section",{key:e.title},[x("p",$o,D(e.title),1),w(r,{class:"rounded-lg"},{default:A((()=>[(b(!0),v(C,null,L(e.items,(e=>(b(),I(o,{key:e.name},{default:A((()=>[x("p",Po,D(e.name),1),(b(!0),v(C,null,L(e.keys,(e=>(b(),v("kbd",{key:e,class:"mr-1"},D(function(e){return a()?e.replace("Ctrl","Cmd"):e}(e)),1)))),128))])),_:2},1024)))),128))])),_:2},1024)]))),64))])}},__scopeId:"data-v-255fd43b"},qo={setup(){const e=B({name:"-",version:"0.0.0"});return q((async()=>{window.electron.ipcRenderer.callMain("app:info").then((t=>{Object.assign(e,t)}))})),{state:e,links:[{name:"Website",url:"https://www.beavernotes.com",icon:"riGlobalLine"},{name:"GitHub",url:"https://github.com/Daniele-rolli/Beaver-Notes",icon:"riGithubFill"}]}}},Uo={class:"general w-full max-w-xl"},Fo=x("div",{class:"overflow-hidden p-2 inline-block mb-4"},[x("img",{src:"logo-transparent.202ed8c7.png",class:"w-24"})],-1),Ko={class:"font-semibold capitalize"},zo=x("p",null," Beavernotes was developed with love ❤️ in a sunny cottage in Northern Italy. ",-1),Ro={class:"mt-4"},Wo={class:"flex"},Go=x("p",{class:"w-32"},"Version",-1),Jo={class:"mt-12 space-x-8 dark:text-gray-300 text-gray-600"},Xo=["href"],Yo={class:"align-middle ml-1"};qo.render=function(e,t,n,a,o,r){const s=y("v-remixicon");return b(),v("div",Uo,[Fo,x("h1",Ko,D(a.state.name),1),zo,x("div",Ro,[x("div",Wo,[Go,x("p",null,D(a.state.version),1)])]),x("div",Jo,[(b(!0),v(C,null,L(a.links,(e=>(b(),v("a",{key:e.name,href:e.url,target:"_blank",class:"dark:hover:text-white hover:text-gray-900 transition"},[w(s,{name:e.icon},null,8,["name"]),x("span",Yo,D(e.name),1)],8,Xo)))),128))])])};var Qo=$e({routes:[{path:"/",name:"Home",component:qn},{path:"/note/:id",name:"Note",component:so},{path:"/settings",name:"Settings",component:go,children:[{path:"",component:yo},{path:"shortcuts",name:"Settings-Shortcuts",component:jo},{path:"about",name:"Settings-About",component:qo}]}],history:Pe()});const Zo={props:{size:{type:[String,Number],default:"24"},color:{type:String,default:"text-primary"}}},er=["width","height"],tr=[x("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),x("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)];Zo.render=function(e,t,n,a,o,r){return b(),v("svg",{class:S(["animate-spin inline-block",[n.color]]),xmlns:"http://www.w3.org/2000/svg",fill:"none",width:n.size,height:n.size,viewBox:"0 0 24 24"},tr,10,er)};var nr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zo});const ar={components:{UiSpinner:Zo},props:{icon:Boolean,disabled:Boolean,loading:Boolean,circle:Boolean,color:{type:String,default:""},tag:{type:String,default:"button"},variant:{type:String,default:"default"}},setup:()=>({variants:{default:"bg-input",primary:"bg-primary text-white dark:bg-secondary dark:hover:bg-primary hover:bg-secondary",danger:"bg-red-500 text-white dark:bg-red-600 dark:hover:bg-red-500 hover:bg-red-600"}})},or={key:0,class:"button-loading"};ar.render=function(e,t,n,a,o,r){const s=y("ui-spinner");return b(),I(Te(n.tag),G({role:"button",class:["ui-button h-10 relative transition focus:ring-2 ring-amber-300",[n.color?n.color:a.variants[n.variant],n.icon?"p-2":"py-2 px-4",n.circle?"rounded-full":"rounded-lg",{"opacity-70":n.disabled,"pointer-events-none":n.loading||n.disabled}]]},i({disabled:n.loading||n.disabled},e.$attrs)),{default:A((()=>[x("span",{class:S(["flex justify-center h-full items-center",{"opacity-25":n.loading}])},[Ne(e.$slots,"default")],2),n.loading?(b(),v("div",or,[w(s,{color:"default"===n.variant?"text-primary":"text-white"},null,8,["color"])])):V("",!0)])),_:3},16,["class"])};var rr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ar});const sr={props:{hover:{type:Boolean,default:!1},padding:{type:String,default:"p-4"},tag:{type:String,default:"div"}},render:function(e,t,n,a,o,r){return b(),I(Te(n.tag),G(e.$attrs,{class:["\n      bg-[#F8F8F7]\n      dark:bg-[#353333]\n      transform\n      rounded-lg\n      transition-transform\n      ui-card\n    ",[n.padding,{"hover:shadow-xl hover:-translate-y-1":n.hover}]]}),{default:A((()=>[Ne(e.$slots,"default")])),_:3},16,["class"])}};var ir=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sr});const lr={props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup:(e,{emit:t})=>({changeHandler:function({target:{checked:e}}){t("update:modelValue",e),t("change",e)}})};_("data-v-322b0f8c");const cr={class:"checkbox-ui inline-flex items-center"},dr={class:"relative h-5 w-5 inline-block focus-within:ring-2 ring-amber-300 rounded"},ur=["value"],pr={class:"\n          border\n          rounded\n          absolute\n          top-0\n          left-0\n          bg-input\n          checkbox-ui__mark\n          cursor-pointer\n        "},mr={key:0,class:"ml-2"};T(),lr.render=function(e,t,n,a,o,r){const s=y("v-remixicon");return b(),v("label",cr,[x("div",dr,[x("input",G({type:"checkbox",class:"opacity-0 checkbox-ui__input",value:n.modelValue},{checked:n.modelValue},{onChange:t[0]||(t[0]=(...e)=>a.changeHandler&&a.changeHandler(...e))}),null,16,ur),x("div",pr,[w(s,{name:"riCheckLine",size:"20",class:"text-white"})])]),e.$slots.default?(b(),v("span",mr,[Ne(e.$slots,"default",{},void 0,!0)])):V("",!0)])},lr.__scopeId="data-v-322b0f8c";var hr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lr});const gr={html:!1,body:"",title:"",placeholder:"",label:"",okText:"Confirm",okVariant:"primary",cancelText:"Cancel",onConfirm:null,onCancel:null},yr={setup(){const e=W({show:!1,type:"",input:"",options:gr});function t(t){const n=e.options[t],a="prompt"!==e.type||e.input;let o=!0;if(n){const e=n(a);"boolean"==typeof e&&(o=e)}o&&(e.options=gr,e.show=!1,e.input="")}function n({code:e}){"Enter"===e?t("onConfirm"):"Escape"===e&&t("onCancel")}return h.on("show-dialog",((t,n)=>{e.type=t,e.options=i(i({},gr),n),e.show=!0})),H((()=>e.show),(e=>{e?window.addEventListener("keyup",n):window.removeEventListener("keyup",n)})),{state:e,fireCallback:t}}},fr={class:"font-semibold text-lg"},br={class:"text-gray-600 dark:text-gray-200 leading-tight"},vr={class:"mt-8 flex space-x-2"};yr.render=function(e,t,n,a,o,r){const s=y("ui-input"),i=y("ui-button"),l=y("ui-modal");return b(),I(l,{"model-value":a.state.show,"content-class":"max-w-sm",persist:""},{header:A((()=>[x("h3",fr,D(a.state.options.title),1)])),default:A((()=>[x("p",br,D(a.state.options.body),1),"prompt"===a.state.type?(b(),I(s,{key:0,modelValue:a.state.input,"onUpdate:modelValue":t[0]||(t[0]=e=>a.state.input=e),autofocus:"",placeholder:a.state.options.placeholder,label:a.state.options.label,class:"w-full mt-4"},null,8,["modelValue","placeholder","label"])):V("",!0),x("div",vr,[w(i,{class:"w-6/12",onClick:t[1]||(t[1]=e=>a.fireCallback("onCancel"))},{default:A((()=>[K(D(a.state.options.cancelText),1)])),_:1}),w(i,{class:"w-6/12",variant:a.state.options.okVariant,onClick:t[2]||(t[2]=e=>a.fireCallback("onConfirm"))},{default:A((()=>[K(D(a.state.options.okText),1)])),_:1},8,["variant"])])])),_:1},8,["model-value"])};var kr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yr});const xr={props:{modelModifiers:{default:()=>({})},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},modelValue:{type:String,default:""},prependIcon:{type:String,default:""},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""}},emits:["update:modelValue","change","keydown"],setup:(e,{emit:t})=>({emitValue:function(n){let{value:a}=n.target;e.modelModifiers.lowercase&&(a=a.toLocaleLowerCase()),t("update:modelValue",a),t("change",a)}})},wr={class:"inline-block input-ui"},Sr={class:"relative"},Cr={key:0,class:"text-sm dark:text-gray-200 text-gray-600 mb-1 ml-1"},Lr={class:"flex items-center"},Ir=["value"];xr.render=function(e,t,n,a,o,r){const s=y("v-remixicon"),i=f("autofocus");return b(),v("div",wr,[x("label",Sr,[n.label?(b(),v("span",Cr,D(n.label),1)):V("",!0),x("div",Lr,[Ne(e.$slots,"prepend",{},(()=>[n.prependIcon?(b(),I(s,{key:0,class:"ml-2 dark:text-gray-200 text-gray-600 absolute left-0",name:n.prependIcon},null,8,["name"])):V("",!0)])),k(x("input",G({readonly:n.disabled||n.readonly||null,placeholder:n.placeholder,type:n.type},{class:["py-2 px-4 rounded-lg w-full bg-input bg-transparent transition ring-2 ring-amber-300",{"opacity-75 pointer-events-none":n.disabled,"pl-10":n.prependIcon||e.$slots.prepend}],value:n.modelValue,onKeydown:t[0]||(t[0]=t=>e.$emit("keydown",t)),onInput:t[1]||(t[1]=(...e)=>a.emitValue&&a.emitValue(...e))}),null,16,Ir),[[i,n.autofocus]])])])])};var Ar=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xr});const _r={props:{disabled:Boolean},render:function(e,t,n,a,o,r){return b(),v("div",{role:"listbox",class:S(["ui-list",{"pointer-events-none":n.disabled}])},[Ne(e.$slots,"default")],2)}};var Tr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_r});const Br={props:{active:Boolean,disabled:Boolean,small:Boolean,tag:{type:String,default:"div"}},render:function(e,t,n,a,o,r){return b(),I(Te(n.tag),{class:S(["\n      ui-list-item\n      rounded-lg\n      flex\n      items-center\n      transition\n      w-full\n      focus:outline-none\n    ",[n.active?"bg-primary bg-opacity-10 text-primary dark:bg-secondary dark:bg-opacity-10 dark:text-secondary":"hoverable",n.small?"p-2":"py-2 px-4",{"pointer-events-none bg-opacity-75":n.disabled}]]),role:"listitem"},{default:A((()=>[Ne(e.$slots,"default")])),_:3},8,["class"])}};var Mr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Br});const Hr={setup(e,{slots:t}){console.log(e,t.default())},render:function(e,t,n,a,o,r){return Ne(e.$slots,"default")}};var Or=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hr});const Nr={props:{tag:{type:String,default:"button"}},setup(e,{expose:t}){const n=c(null);return t({btnRef:n}),(t,a)=>(b(),I(Te(e.tag),{ref:n},null,512))}};var Dr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Nr});const Vr={props:{modelValue:{type:Boolean,default:!1},teleportTo:{type:String,default:"body"},contentClass:{type:String,default:"max-w-lg"},customContent:Boolean,persist:Boolean,blur:Boolean,disabledTeleport:Boolean},emits:["close","update:modelValue"],setup(e,{emit:t}){const n=c(!1),a=c(null);function o(e){document.body.classList.toggle("overflow-hidden",e)}function r(){e.persist||(n.value=!1,t("close",!1),t("update:modelValue",!1),o(!1))}function s({code:e}){"Escape"===e&&r()}return H((()=>e.modelValue),(e=>{n.value=e,o(e)}),{immediate:!0}),H(n,(e=>{e?window.addEventListener("keyup",s):window.removeEventListener("keyup",s)})),{show:n,closeModal:r,modalContent:a}}},Er={class:"modal-ui"},$r={key:0,class:"modal-ui__activator"},Pr={class:"mb-4"},jr={class:"flex items-center justify-between"},qr={class:"content-header"};Vr.render=function(e,t,n,a,o,r){const s=y("v-remixicon"),i=y("ui-card");return b(),v("div",Er,[e.$slots.activator?(b(),v("div",$r,[Ne(e.$slots,"activator",Be(Me({open:()=>a.show=!0})))])):V("",!0),(b(),I(Fe,{to:n.teleportTo,disabled:n.disabledTeleport},[w(Ue,{name:"modal",mode:"out-in"},{default:A((()=>[a.show?(b(),v("div",{key:0,class:"\n            bg-black\n            p-5\n            overflow-y-auto\n            bg-opacity-20\n            modal-ui__content-container\n            z-50\n            flex\n            justify-center\n            items-end\n            md:items-center\n          ",style:je({"backdrop-filter":n.blur&&"blur(2px)"}),onClick:t[0]||(t[0]=qe(((...e)=>a.closeModal&&a.closeModal(...e)),["self"]))},[n.customContent?Ne(e.$slots,"default",{key:0}):(b(),I(i,{key:1,class:S(["modal-ui__content shadow-lg w-full",[n.contentClass]])},{default:A((()=>[x("div",Pr,[x("div",jr,[x("span",qr,[Ne(e.$slots,"header")]),k(w(s,{class:"text-gray-600 cursor-pointer",name:"riCloseLine",size:"20",onClick:a.closeModal},null,8,["onClick"]),[[_e,!n.persist]])])]),Ne(e.$slots,"default")])),_:3},8,["class"]))],4)):V("",!0)])),_:3})],8,["to","disabled"]))])};var Ur=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vr});const Fr={props:{placement:{type:String,default:"bottom"},trigger:{type:String,default:"click"},padding:{type:String,default:"p-4"},to:{type:[String,Object,HTMLElement],default:""},disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["show","trigger","close"],setup(e,{emit:t}){const n=c(null),a=c(null),o=c(!1),r=j(null);return H((()=>e.disabled),(e=>{e?r.value.enable():(r.value.hide(),r.value.disable())})),H((()=>e.modelValue),(e=>{e!==o.value&&(o.value=e,e?r.value.show():r.value.hide())})),q((()=>{const s=e.to?"string"==typeof to?document.querySelector(e.to):e.to:n.value;r.value=Sn(s,{role:"popover",theme:null,content:a.value,placement:e.placement,trigger:e.trigger,interactive:!0,appendTo:()=>document.body,onShow:e=>{t("show",e),o.value=!0},onHide:()=>{t("close"),o.value=!1},onTrigger:()=>t("trigger")})})),g((()=>{r.value.destroy()})),{isShow:o,content:a,targetEl:n}}},Kr={ref:"targetEl",class:"ui-popover__trigger h-full inline-block"};Fr.render=function(e,t,n,a,o,r){return b(),v("div",{class:S(["ui-popover inline-block",{hidden:n.to}])},[x("div",Kr,[Ne(e.$slots,"trigger",Be(Me({isShow:a.isShow})))],512),x("div",{ref:"content",class:S(["\n        ui-popover__content\n        bg-white\n        dark:bg-gray-800\n        rounded-lg\n        shadow-xl\n        border\n      ",[n.padding]])},[Ne(e.$slots,"default",Be(Me({isShow:a.isShow})))],2)],2)};var zr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fr});let Rr=0;const Wr={props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},prependIcon:{type:String,default:""},placeholder:{type:String,default:""},block:Boolean,showDetail:Boolean},emits:["update:modelValue","change"],setup:(e,{emit:t})=>({selectId:(Rr+=1,"select"?`select--${Rr}`:Rr),emitValue:function({target:e}){t("update:modelValue",e.value),t("change",e.value)}})},Gr=["for"],Jr={class:"\n        ui-select__content\n        flex\n        items-center\n        w-full\n        block\n        transition\n        focus-within:ring-2 ring-amber-300\n        bg-input\n        rounded-lg\n        appearance-none\n        focus:outline-none\n        relative\n      "},Xr=["id","value"],Yr={key:0,value:"",disabled:"",selected:""};Wr.render=function(e,t,n,a,o,r){const s=y("v-remixicon");return b(),v("div",{class:S([{"inline-block":!n.block},"ui-select cursor-pointer"])},[n.label?(b(),v("label",{key:0,for:a.selectId,class:"text-gray-200 text-sm ml-2"},D(n.label),9,Gr)):V("",!0),x("div",Jr,[n.prependIcon?(b(),I(s,{key:0,size:"20",name:n.prependIcon,class:"absolute text-gray-600 dark:text-gray-200 left-0 ml-2"},null,8,["name"])):V("",!0),x("select",{id:a.selectId,class:S([{"pl-8":n.prependIcon},"px-4 pr-8 bg-transparent py-2 z-10 appearance-none w-full h-full"]),value:n.modelValue,onChange:t[0]||(t[0]=(...e)=>a.emitValue&&a.emitValue(...e))},[n.placeholder?(b(),v("option",Yr,D(n.placeholder),1)):V("",!0),Ne(e.$slots,"default")],42,Xr),w(s,{size:"28",name:"riArrowDropDownLine",class:"absolute text-gray-600 dark:text-gray-200 mr-2 right-0"})])],2)};var Qr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wr});const Zr={props:{group:Boolean},setup(e,{slots:t,attrs:n}){function a(e){const{width:t}=getComputedStyle(e);e.style.width=t,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";const{height:n}=getComputedStyle(e);e.style.width=null,e.style.position=null,e.style.visibility=null,e.style.height=0,getComputedStyle(e).height,requestAnimationFrame((()=>{e.style.height=n}))}function o(e){e.style.height="auto"}function r(e){const{height:t}=getComputedStyle(e);e.style.height=t,getComputedStyle(e).height,requestAnimationFrame((()=>{e.style.height=0}))}return()=>Ke(e.group?ze:Ue,l(i({},n),{name:"expand",onEnter:a,onAfterEnter:o,onLeave:r}),t.default)}};function es(e){return"string"==typeof e?{content:e}:"object"==typeof e&&null!==e?e:{}}var ts={mounted(e,{value:t,arg:n="top",instance:a,modifiers:o}){const r=es(t),s=Sn(e,l(i({},r),{theme:"tooltip-theme",placement:n}));o.group&&(Array.isArray(a._tooltipGroup)||(a._tooltipGroup=[]),a._tooltipGroup.push(s))},updated(e,{value:t,arg:n="top"}){const a=es(t);e._tippy.setProps(i({placement:n},a))}},ns={mounted(e,{value:t=!0}){t&&e.focus()}};const as={"../components/ui/Button.vue":rr,"../components/ui/Card.vue":ir,"../components/ui/Checkbox.vue":hr,"../components/ui/Dialog.vue":kr,"../components/ui/Input.vue":Ar,"../components/ui/List.vue":Tr,"../components/ui/ListItem.vue":Mr,"../components/ui/Menu.vue":Or,"../components/ui/MenuButton.vue":Dr,"../components/ui/Modal.vue":Ur,"../components/ui/Popover.vue":zr,"../components/ui/Select.vue":Qr,"../components/ui/Spinner.vue":nr};Re.add({riSettingsLine:We,riSearchLine:Ge,riArchiveDrawerLine:Je,riAddFill:Xe,riEditLine:Ye,riPencilLine:Qe,riBold:Ze,riItalic:et,riUnderline:tt,riStrikethrough2:nt,riCodeLine:at,riCodeBoxLine:ot,riMarkPenLine:rt,riParagraph:st,riH1:it,riH2:lt,riListUnordered:ct,riListOrdered:dt,riDoubleQuotesR:ut,riImageLine:pt,riLink:mt,riLinkUnlinkM:ht,riFullscreenLine:gt,riSearch2Line:yt,riBookletLine:ft,riAddLine:bt,riPriceTag3Line:vt,riArchiveLine:kt,riMoonClearLine:xt,riSettings3Line:wt,riFileAddLine:St,riArrowDropDownLine:Ct,riFolderOpenLine:Lt,riDeleteBin6Line:It,riBookmarkLine:At,riBookmarkFill:_t,riFileEditLine:Tt,riArrowDownLine:Bt,riFocus3Line:Mt,riInboxUnarchiveLine:Ht,riBrushLine:Ot,riSortAsc:Nt,riSortDesc:Dt,riCloseLine:Vt,riSave3Line:Et,riWindowLine:$t,riKeyboardLine:Pt,riCheckLine:jt,riFileDownloadLine:qt,riFileUploadLine:Ut,riInformationLine:Ft,riGlobalLine:Kt,riGithubFill:zt,riDeleteBackLine:Rt,riTableLine:Wt,mdiRegex:"M16,16.92C15.67,16.97 15.34,17 15,17C14.66,17 14.33,16.97 14,16.92V13.41L11.5,15.89C11,15.5 10.5,15 10.11,14.5L12.59,12H9.08C9.03,11.67 9,11.34 9,11C9,10.66 9.03,10.33 9.08,10H12.59L10.11,7.5C10.3,7.25 10.5,7 10.76,6.76V6.76C11,6.5 11.25,6.3 11.5,6.11L14,8.59V5.08C14.33,5.03 14.66,5 15,5C15.34,5 15.67,5.03 16,5.08V8.59L18.5,6.11C19,6.5 19.5,7 19.89,7.5L17.41,10H20.92C20.97,10.33 21,10.66 21,11C21,11.34 20.97,11.67 20.92,12H17.41L19.89,14.5C19.7,14.75 19.5,15 19.24,15.24V15.24C19,15.5 18.75,15.7 18.5,15.89L16,13.41V16.92H16V16.92M5,19A2,2 0 0,1 7,17A2,2 0 0,1 9,19A2,2 0 0,1 7,21A2,2 0 0,1 5,19H5Z"});const os=Gt(xn);os.config.unwrapInjectedRef=!0,os.use(Qo).use(Jt()).use((function(e){e.component("ExpandTransition",Zr),e.directive("tooltip",ts),e.directive("autofocus",ns),function(e,t,n){Object.keys(t).forEach((n=>{const[a]=/[^/]*$/.exec(n),[o]=a.split("."),r=`Ui${o}`;e.component(r,t[n].default)}))}(e,as)})).use(Re).mount("#app");
//# sourceMappingURL=index.11034129.js.map
